
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <link rel="shortcut icon" type="image/ico" href="/src/assets/favicon.ico" />
    <title>S3</title>
    <style>.static{position:static}.table{display:table}.px-2{padding-left:.5rem;padding-right:.5rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.font-bold{font-weight:700}.text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}
</style>
    <script>(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const Tu=(e,t)=>e===t,si={equals:Tu};let $a=ja;const We=1,xr=2,Fa={owned:null,cleanups:null,context:null,owner:null};var he=null;let Wr=null,V=null,le=null,Me=null,Nr=0;function Ou(e,t){const r=V,n=he,i=e.length===0,s=t===void 0?n:t,o=i?Fa:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=i?e:()=>e(()=>er(()=>$r(o)));he=o,V=null;try{return tr(a,!0)}finally{V=r,he=n}}function ii(e,t){t=t?Object.assign({},si,t):si;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(i=i(r.value)),Ua(r,i));return[Iu.bind(r),n]}function zn(e,t,r){const n=La(e,t,!1,We);Dr(n)}function Bu(e,t,r){$a=Du;const n=La(e,t,!1,We);(!r||!r.render)&&(n.user=!0),Me?Me.push(n):Dr(n)}function er(e){if(V===null)return e();const t=V;V=null;try{return e()}finally{V=t}}function ku(e){Bu(()=>er(e))}function Iu(){if(this.sources&&this.state)if(this.state===We)Dr(this);else{const e=le;le=null,tr(()=>Er(this),!1),le=e}if(V){const e=this.observers?this.observers.length:0;V.sources?(V.sources.push(this),V.sourceSlots.push(e)):(V.sources=[this],V.sourceSlots=[e]),this.observers?(this.observers.push(V),this.observerSlots.push(V.sources.length-1)):(this.observers=[V],this.observerSlots=[V.sources.length-1])}return this.value}function Ua(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&tr(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],o=Wr&&Wr.running;o&&Wr.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?le.push(s):Me.push(s),s.observers&&Ha(s)),o||(s.state=We)}if(le.length>1e6)throw le=[],new Error},!1)),t}function Dr(e){if(!e.fn)return;$r(e);const t=Nr;Mu(e,e.value,t)}function Mu(e,t,r){let n;const i=he,s=V;V=he=e;try{n=e.fn(t)}catch(o){return e.pure&&(e.state=We,e.owned&&e.owned.forEach($r),e.owned=null),e.updatedAt=r+1,za(o)}finally{V=s,he=i}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?Ua(e,n):e.value=n,e.updatedAt=r)}function La(e,t,r,n=We,i){const s={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:he,context:he?he.context:null,pure:r};return he===null||he!==Fa&&(he.owned?he.owned.push(s):he.owned=[s]),s}function _r(e){if(e.state===0)return;if(e.state===xr)return Er(e);if(e.suspense&&er(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Nr);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===We)Dr(e);else if(e.state===xr){const n=le;le=null,tr(()=>Er(e,t[0]),!1),le=n}}function tr(e,t){if(le)return e();let r=!1;t||(le=[]),Me?r=!0:Me=[],Nr++;try{const n=e();return Nu(r),n}catch(n){r||(Me=null),le=null,za(n)}}function Nu(e){if(le&&(ja(le),le=null),e)return;const t=Me;Me=null,t.length&&tr(()=>$a(t),!1)}function ja(e){for(let t=0;t<e.length;t++)_r(e[t])}function Du(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:_r(n)}for(t=0;t<r;t++)_r(e[t])}function Er(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const i=n.state;i===We?n!==t&&(!n.updatedAt||n.updatedAt<Nr)&&_r(n):i===xr&&Er(n,t)}}}function Ha(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=xr,r.pure?le.push(r):Me.push(r),r.observers&&Ha(r))}}function $r(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),i=r.observers;if(i&&i.length){const s=i.pop(),o=r.observerSlots.pop();n<i.length&&(s.sourceSlots[o]=n,i[n]=s,r.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)$r(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function $u(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function za(e,t=he){throw $u(e)}function Fu(e,t){return er(()=>e(t||{}))}function Uu(e,t,r){let n=r.length,i=t.length,s=n,o=0,a=0,u=t[i-1].nextSibling,c=null;for(;o<i||a<s;){if(t[o]===r[a]){o++,a++;continue}for(;t[i-1]===r[s-1];)i--,s--;if(i===o){const l=s<n?a?r[a-1].nextSibling:r[s-a]:u;for(;a<s;)e.insertBefore(r[a++],l)}else if(s===a)for(;o<i;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===r[s-1]&&r[a]===t[i-1]){const l=t[--i].nextSibling;e.insertBefore(r[a++],t[o++].nextSibling),e.insertBefore(r[--s],l),t[i]=r[s]}else{if(!c){c=new Map;let h=a;for(;h<s;)c.set(r[h],h++)}const l=c.get(t[o]);if(l!=null)if(a<l&&l<s){let h=o,f=1,g;for(;++h<i&&h<s&&!((g=c.get(t[h]))==null||g!==l+f);)f++;if(f>l-a){const y=t[o];for(;a<l;)e.insertBefore(r[a++],y)}else e.replaceChild(r[a++],t[o++])}else o++;else t[o++].remove()}}}const oi="_$DX_DELEGATE";function Lu(e,t,r,n={}){let i;return Ou(s=>{i=s,t===document?e():Lt(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{i(),t.textContent=""}}function qa(e,t,r){let n;const i=()=>{const o=document.createElement("template");return o.innerHTML=e,r?o.content.firstChild.firstChild:o.content.firstChild},s=t?()=>er(()=>document.importNode(n||(n=i()),!0)):()=>(n||(n=i())).cloneNode(!0);return s.cloneNode=s,s}function ju(e,t=window.document){const r=t[oi]||(t[oi]=new Set);for(let n=0,i=e.length;n<i;n++){const s=e[n];r.has(s)||(r.add(s),t.addEventListener(s,Hu))}}function Lt(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return Ar(e,t,n,r);zn(i=>Ar(e,t(),i,r),n)}function Hu(e){const t=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}});r;){const n=r[t];if(n&&!r.disabled){const i=r[`${t}Data`];if(i!==void 0?n.call(r,i,e):n.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function Ar(e,t,r,n,i){for(;typeof r=="function";)r=r();if(t===r)return r;const s=typeof t,o=n!==void 0;if(e=o&&r[0]&&r[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),o){let a=r[0];a&&a.nodeType===3?a.data=t:a=document.createTextNode(t),r=at(e,r,n,a)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t;else if(t==null||s==="boolean")r=at(e,r,n);else{if(s==="function")return zn(()=>{let a=t();for(;typeof a=="function";)a=a();r=Ar(e,a,r,n)}),()=>r;if(Array.isArray(t)){const a=[],u=r&&Array.isArray(r);if(qn(a,t,r,i))return zn(()=>r=Ar(e,a,r,n,!0)),()=>r;if(a.length===0){if(r=at(e,r,n),o)return r}else u?r.length===0?ai(e,a,n):Uu(e,r,a):(r&&at(e),ai(e,a));r=a}else if(t.nodeType){if(Array.isArray(r)){if(o)return r=at(e,r,n,t);at(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function qn(e,t,r,n){let i=!1;for(let s=0,o=t.length;s<o;s++){let a=t[s],u=r&&r[s],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=qn(e,a,u)||i;else if(c==="function")if(n){for(;typeof a=="function";)a=a();i=qn(e,Array.isArray(a)?a:[a],Array.isArray(u)?u:[u])||i}else e.push(a),i=!0;else{const l=String(a);u&&u.nodeType===3&&u.data===l?e.push(u):e.push(document.createTextNode(l))}}return i}function ai(e,t,r=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],r)}function at(e,t,r,n){if(r===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(i!==a){const u=a.parentNode===e;!s&&!o?u?e.replaceChild(i,a):e.insertBefore(i,r):u&&a.remove()}else s=!0}}else e.insertBefore(i,r);return[i]}const zu=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},qu=e=>({httpHandler:e.httpHandler()});var ci;(function(e){e.HEADER="header",e.QUERY="query"})(ci||(ci={}));var ui;(function(e){e.HEADER="header",e.QUERY="query"})(ui||(ui={}));var qt;(function(e){e.HTTP="http",e.HTTPS="https"})(qt||(qt={}));var vr;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(vr||(vr={}));var li;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(li||(li={}));const it="__smithy_context";var fi;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(fi||(fi={}));var di;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(di||(di={}));class ne{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const t=new ne({...this,headers:{...this.headers}});return t.query&&(t.query=Gu(t.query)),t}}function Gu(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class Cr{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function Ku(e){return t=>async r=>{const{request:n}=r;return ne.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}const Vu={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Wu=e=>({applyToStack:t=>{t.add(Ku(e),Vu)}});const Xu=e=>t=>async r=>{if(!ne.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},Zu={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Yu=e=>({applyToStack:t=>{t.add(Xu(e),Zu)}}),Qu=()=>(e,t)=>async r=>{try{const n=await e(r),{clientName:i,commandName:s,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:c}=a,l=u??t.inputFilterSensitiveLog,h=c??t.outputFilterSensitiveLog,{$metadata:f,...g}=n.output;return o?.info?.({clientName:i,commandName:s,input:l(r.input),output:h(g),metadata:f}),n}catch(n){const{clientName:i,commandName:s,logger:o,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:u}=a,c=u??t.inputFilterSensitiveLog;throw o?.error?.({clientName:i,commandName:s,input:c(r.input),error:n,metadata:n.$metadata}),n}},Ju={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},el=e=>({applyToStack:t=>{t.add(Qu(),Ju)}});var hi={};const pi="X-Amzn-Trace-Id",tl="AWS_LAMBDA_FUNCTION_NAME",rl="_X_AMZN_TRACE_ID",nl=e=>t=>async r=>{const{request:n}=r;if(!ne.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(pi))return t(r);const i=hi[tl],s=hi[rl],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(n.headers[pi]=s),t({...r,request:n})},sl={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},il=e=>({applyToStack:t=>{t.add(nl(e),sl)}});class Rs{trace(){}debug(){}info(){}warn(){}error(){}}const Je=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const n of t)r.push(n);return r},$e=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Rr=()=>{let e=[],t=[],r=!1;const n=new Set,i=h=>h.sort((f,g)=>gi[g.step]-gi[f.step]||yi[g.priority||"normal"]-yi[f.priority||"normal"]),s=h=>{let f=!1;const g=y=>{const _=Je(y.name,y.aliases);if(_.includes(h)){f=!0;for(const R of _)n.delete(R);return!1}return!0};return e=e.filter(g),t=t.filter(g),f},o=h=>{let f=!1;const g=y=>{if(y.middleware===h){f=!0;for(const _ of Je(y.name,y.aliases))n.delete(_);return!1}return!0};return e=e.filter(g),t=t.filter(g),f},a=h=>(e.forEach(f=>{h.add(f.middleware,{...f})}),t.forEach(f=>{h.addRelativeTo(f.middleware,{...f})}),h.identifyOnResolve?.(l.identifyOnResolve()),h),u=h=>{const f=[];return h.before.forEach(g=>{g.before.length===0&&g.after.length===0?f.push(g):f.push(...u(g))}),f.push(h),h.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?f.push(g):f.push(...u(g))}),f},c=(h=!1)=>{const f=[],g=[],y={};return e.forEach(R=>{const P={...R,before:[],after:[]};for(const N of Je(P.name,P.aliases))y[N]=P;f.push(P)}),t.forEach(R=>{const P={...R,before:[],after:[]};for(const N of Je(P.name,P.aliases))y[N]=P;g.push(P)}),g.forEach(R=>{if(R.toMiddleware){const P=y[R.toMiddleware];if(P===void 0){if(h)return;throw new Error(`${R.toMiddleware} is not found when adding ${$e(R.name,R.aliases)} middleware ${R.relation} ${R.toMiddleware}`)}R.relation==="after"&&P.after.push(R),R.relation==="before"&&P.before.push(R)}}),i(f).map(u).reduce((R,P)=>(R.push(...P),R),[])},l={add:(h,f={})=>{const{name:g,override:y,aliases:_}=f,R={step:"initialize",priority:"normal",middleware:h,...f},P=Je(g,_);if(P.length>0){if(P.some(N=>n.has(N))){if(!y)throw new Error(`Duplicate middleware name '${$e(g,_)}'`);for(const N of P){const U=e.findIndex(Qe=>Qe.name===N||Qe.aliases?.some(Vr=>Vr===N));if(U===-1)continue;const se=e[U];if(se.step!==R.step||R.priority!==se.priority)throw new Error(`"${$e(se.name,se.aliases)}" middleware with ${se.priority} priority in ${se.step} step cannot be overridden by "${$e(g,_)}" middleware with ${R.priority} priority in ${R.step} step.`);e.splice(U,1)}}for(const N of P)n.add(N)}e.push(R)},addRelativeTo:(h,f)=>{const{name:g,override:y,aliases:_}=f,R={middleware:h,...f},P=Je(g,_);if(P.length>0){if(P.some(N=>n.has(N))){if(!y)throw new Error(`Duplicate middleware name '${$e(g,_)}'`);for(const N of P){const U=t.findIndex(Qe=>Qe.name===N||Qe.aliases?.some(Vr=>Vr===N));if(U===-1)continue;const se=t[U];if(se.toMiddleware!==R.toMiddleware||se.relation!==R.relation)throw new Error(`"${$e(se.name,se.aliases)}" middleware ${se.relation} "${se.toMiddleware}" middleware cannot be overridden by "${$e(g,_)}" middleware ${R.relation} "${R.toMiddleware}" middleware.`);t.splice(U,1)}}for(const N of P)n.add(N)}t.push(R)},clone:()=>a(Rr()),use:h=>{h.applyToStack(l)},remove:h=>typeof h=="string"?s(h):o(h),removeByTag:h=>{let f=!1;const g=y=>{const{tags:_,name:R,aliases:P}=y;if(_&&_.includes(h)){const N=Je(R,P);for(const U of N)n.delete(U);return f=!0,!1}return!0};return e=e.filter(g),t=t.filter(g),f},concat:h=>{const f=a(Rr());return f.use(h),f.identifyOnResolve(r||f.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),f},applyToStack:a,identify:()=>c(!0).map(h=>{const f=h.step??h.relation+" "+h.toMiddleware;return $e(h.name,h.aliases)+" - "+f}),identifyOnResolve(h){return typeof h=="boolean"&&(r=h),r},resolve:(h,f)=>{for(const g of c().map(y=>y.middleware).reverse())h=g(h,f);return r&&console.log(l.identify()),h}};return l},gi={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},yi={high:3,normal:2,low:1};class ol{constructor(t){this.middlewareStack=Rr(),this.config=t}send(t,r,n){const i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const Ge={},gt=new Array(64);for(let e=0,t=65,r=90;e+t<=r;e++){const n=String.fromCharCode(e+t);Ge[n]=e,gt[e]=n}for(let e=0,t=97,r=122;e+t<=r;e++){const n=String.fromCharCode(e+t),i=e+26;Ge[n]=i,gt[i]=n}for(let e=0;e<10;e++){Ge[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;Ge[t]=r,gt[r]=t}Ge["+"]=62;gt[62]="+";Ge["/"]=63;gt[63]="/";const lt=6,jt=8,al=63,Ps=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let i=0;i<e.length;i+=4){let s=0,o=0;for(let c=i,l=i+3;c<=l;c++)if(e[c]!=="="){if(!(e[c]in Ge))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);s|=Ge[e[c]]<<(l-c)*lt,o+=lt}else s>>=lt;const a=i/4*3;s>>=o%jt;const u=Math.floor(o/jt);for(let c=0;c<u;c++){const l=(u-c-1)*jt;n.setUint8(a+c,(s&255<<l)>>l)}}return new Uint8Array(r)};function Ts(e){let t="";for(let r=0;r<e.length;r+=3){let n=0,i=0;for(let o=r,a=Math.min(r+3,e.length);o<a;o++)n|=e[o]<<(a-o-1)*jt,i+=jt;const s=Math.ceil(i/lt);n<<=s*lt-i;for(let o=1;o<=s;o++){const a=(s-o)*lt;t+=gt[(n&al<<a)>>a]}t+="==".slice(0,4-s)}return t}const rr=e=>new TextEncoder().encode(e),ft=e=>typeof e=="string"?rr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Fr=e=>new TextDecoder("utf-8").decode(e);function cl(e,t="utf-8"){return t==="base64"?Ts(e):Fr(e)}function ul(e,t){return t==="base64"?st.mutate(Ps(e)):st.mutate(rr(e))}class st extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return ul(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,st.prototype),t}transformToString(t="utf-8"){return cl(this,t)}}const ll=(e,t)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=t,a=r!==void 0&&n!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,u=a?o(i,e):void 0,c=e.getReader();return new ReadableStream({async pull(l){const{value:h,done:f}=await c.read();if(f){if(l.enqueue(`0\r
`),a){const g=r(await u);l.enqueue(`${s}:${g}\r
`),l.enqueue(`\r
`)}l.close()}else l.enqueue(`${(n(h)||0).toString(16)}\r
${h}\r
`)}})},rt=e=>encodeURIComponent(e).replace(/[!'()*]/g,fl),fl=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function dl(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=rt(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)t.push(`${r}=${rt(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${rt(n)}`),t.push(i)}}return t.join("&")}function hl(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const pl={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")};class Os{static create(t){return typeof t?.handle=="function"?t:new Os(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,i=this.config.keepAlive===!0;if(r?.aborted){const _=new Error("Request aborted");return _.name="AbortError",Promise.reject(_)}let s=t.path;const o=dl(t.query||{});o&&(s+=`?${o}`),t.fragment&&(s+=`#${t.fragment}`);let a="";if(t.username!=null||t.password!=null){const _=t.username??"",R=t.password??"";a=`${_}:${R}@`}const{port:u,method:c}=t,l=`${t.protocol}//${a}${t.hostname}${u?`:${u}`:""}${s}`,f={body:c==="GET"||c==="HEAD"?void 0:t.body,headers:new Headers(t.headers),method:c};typeof AbortController<"u"&&(f.signal=r),pl.supported&&(f.keepalive=i);const g=new Request(l,f),y=[fetch(g).then(_=>{const R=_.headers,P={};for(const U of R.entries())P[U[0]]=U[1];return _.body!=null?{response:new Cr({headers:P,reason:_.statusText,statusCode:_.status,body:_.body})}:_.blob().then(U=>({response:new Cr({headers:P,reason:_.statusText,statusCode:_.status,body:U})}))}),hl(n)];return r&&y.push(new Promise((_,R)=>{r.onabort=()=>{const P=new Error("Request aborted");P.name="AbortError",R(P)}})),Promise.race(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const Ga=e=>typeof Blob=="function"&&e instanceof Blob?gl(e):yl(e);async function gl(e){const t=await ml(e),r=Ps(t);return new Uint8Array(r)}async function yl(e){let t=new Uint8Array(0);const r=e.getReader();let n=!1;for(;!n;){const{done:i,value:s}=await r.read();if(s){const o=t;t=new Uint8Array(o.length+s.length),t.set(o),t.set(s,o.length)}n=i}return t}function ml(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;t(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}const Ka={},Gn={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Ka[e]=t,Gn[t]=e}function bl(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in Gn)t[r/2]=Gn[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function we(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Ka[e[r]];return t}const mi="The stream has already been transformed.",wl=e=>{if(!bi(e)&&!wi(e)){const i=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${i}`)}let t=!1;const r=async()=>{if(t)throw new Error(mi);return t=!0,await Ga(e)},n=i=>{if(typeof i.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return i.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async i=>{const s=await r();if(i==="base64")return Ts(s);if(i==="hex")return we(s);if(i===void 0||i==="utf8"||i==="utf-8")return Fr(s);if(typeof TextDecoder=="function")return new TextDecoder(i).decode(s);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(mi);if(t=!0,bi(e))return n(e);if(wi(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},bi=e=>typeof Blob=="function"&&e instanceof Blob,wi=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,Bs=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return st.mutate(e);if(!e)return st.mutate(new Uint8Array);const r=t.streamCollector(e);return st.mutate(await r)};class nr{constructor(){this.middlewareStack=Rr()}}const Ne="***SensitiveInformation***",dt=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Sl=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Za.warn(Xa(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},xl=Math.ceil(2**127*(2-2**-23)),Si=e=>{const t=Sl(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>xl)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Kn=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},xi=e=>ks(e,32),_i=e=>ks(e,16),Ei=e=>ks(e,8),ks=(e,t)=>{const r=Kn(e);if(r!==void 0&&_l(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},_l=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ze=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Va=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Z=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Za.warn(Xa(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},El=e=>Si(typeof e=="string"?sr(e):e),Al=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,sr=e=>{const t=e.match(Al);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Wa=e=>Kn(typeof e=="string"?sr(e):e),Ht=e=>xi(typeof e=="string"?sr(e):e),Pr=e=>_i(typeof e=="string"?sr(e):e),vl=e=>Ei(typeof e=="string"?sr(e):e),Xa=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Za={warn:console.warn},Cl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Is=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function yr(e){const t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),i=e.getUTCDate(),s=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds(),u=i<10?`0${i}`:`${i}`,c=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,h=a<10?`0${a}`:`${a}`;return`${Cl[n]}, ${u} ${Is[r]} ${t} ${c}:${l}:${h} GMT`}const Rl=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Ur=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=Rl.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,i,s,o,a,u,c,l]=t,h=Pr(Gt(n)),f=qe(i,"month",1,12),g=qe(s,"day",1,31),y=mr(h,f,g,{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c});return l.toUpperCase()!="Z"&&y.setTime(y.getTime()-Fl(l)),y},Pl=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Tl=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Ol=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Ai=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=Pl.exec(e);if(t){const[r,n,i,s,o,a,u,c]=t;return mr(Pr(Gt(s)),Xr(i),qe(n,"day",1,31),{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c})}if(t=Tl.exec(e),t){const[r,n,i,s,o,a,u,c]=t;return Il(mr(Bl(s),Xr(i),qe(n,"day",1,31),{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c}))}if(t=Ol.exec(e),t){const[r,n,i,s,o,a,u,c]=t;return mr(Pr(Gt(c)),Xr(n),qe(i.trimLeft(),"day",1,31),{hours:s,minutes:o,seconds:a,fractionalMilliseconds:u})}throw new TypeError("Invalid RFC-7231 date-time value")},mr=(e,t,r,n)=>{const i=t-1;return Nl(e,i,r),new Date(Date.UTC(e,i,r,qe(n.hours,"hour",0,23),qe(n.minutes,"minute",0,59),qe(n.seconds,"seconds",0,60),$l(n.fractionalMilliseconds)))},Bl=e=>{const t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+Pr(Gt(e));return r<t?r+100:r},kl=50*365*24*60*60*1e3,Il=e=>e.getTime()-new Date().getTime()>kl?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Xr=e=>{const t=Is.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},Ml=[31,28,31,30,31,30,31,31,30,31,30,31],Nl=(e,t,r)=>{let n=Ml[t];if(t===1&&Dl(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Is[t]} in ${e}: ${r}`)},Dl=e=>e%4===0&&(e%100!==0||e%400===0),qe=(e,t,r,n)=>{const i=vl(Gt(e));if(i<r||i>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return i},$l=e=>e==null?0:El("0."+e)*1e3,Fl=e=>{const t=e[0];let r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const n=Number(e.substring(1,3)),i=Number(e.substring(4,6));return r*(n*60+i)*60*1e3},Gt=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};class Ms extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Ms.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const Lr=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(e[n]==null||e[n]==="")&&(e[n]=i)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},Ul=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const i=jl(e),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:i});throw Lr(o,t)},Ll=e=>({output:t,parsedBody:r,errorCode:n})=>{Ul({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},jl=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Hl=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},zl=e=>{const t=[];for(const r in vr){const n=vr[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},ql=e=>{const t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Gl=e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},Kl=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},Vl=e=>({...zl(e),...Gl(e)}),Wl=e=>({...ql(e),...Kl(e)});function vi(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const Vn=e=>Array.isArray(e)?e:[e],Ya=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Ya(e[r]));return e},Wn=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Wn.prototype=Object.create(String.prototype,{constructor:{value:Wn,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Wn,String);function Y(e,t,r){let n,i,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return i=t,s=r,Xl(n,i,s);s=t}for(const o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}Zl(n,null,s,o)}return n}const Xl=(e,t,r)=>Y(e,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[t,s()]:n[i]=[t,s],n),{})),Zl=(e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=Yl,u=Ql,c=n]=o;(typeof a=="function"&&a(t[c])||typeof a!="function"&&a)&&(e[n]=u(t[c]));return}let[i,s]=r[n];if(typeof s=="function"){let o;const a=i===void 0&&(o=s())!=null,u=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?e[n]=o:u&&(e[n]=s())}else{const o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(e[n]=s)}},Yl=e=>e!=null,Ql=e=>e,Ke=(e,t,r,n,i,s)=>{if(t!=null&&t[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(i,s?o.split("/").map(a=>vi(a)).join("/"):vi(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},Jl="content-length";function ef(){return(e,t)=>async r=>{const{request:n}=r;if(ne.isInstance(n)&&!n.headers[Jl]){const i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof t?.logger?.warn=="function"&&!(t.logger instanceof Rs)?t.logger.warn(i):console.warn(i)}return e({...r})}}const tf={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},rf=e=>({applyToStack:t=>{t.add(ef(),tf)}}),nf=e=>(t,r)=>async n=>{const i=await e.region(),s=e.region;r.__s3RegionRedirect&&(e.region=async()=>(e.region=s,r.__s3RegionRedirect));const o=await t(n);if(r.__s3RegionRedirect){const a=await e.region();if(i!==a)throw new Error("Region was not restored following S3 region redirect.")}return o},sf={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function of(e){return(t,r)=>async n=>{try{return await t(n)}catch(i){if(e.followRegionRedirects&&i.$metadata.httpStatusCode===301){try{const s=i.$response.headers["x-amz-bucket-region"];r.logger?.debug(`Redirecting from ${await e.region()} to ${s}`),r.__s3RegionRedirect=s}catch(s){throw new Error("Region redirect failed: "+s)}return t(n)}else throw i}}}const af={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},cf=e=>({applyToStack:t=>{t.add(of(e),af),t.addRelativeTo(nf(e),sf)}});class jr{constructor(t={}){this.data=t,this.lastPurgeTime=Date.now()}get(t){const r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){const t=Date.now();if(!(this.lastPurgeTime+jr.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(const r in this.data){const n=this.data[r];if(!n.isRefreshing){const i=await n.identity;i.expiration&&i.expiration.getTime()<t&&delete this.data[r]}}}}jr.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;class Zr{constructor(t,r=!1,n=Date.now()){this._identity=t,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}}class Hr{constructor(t,r=new jr){this.createSessionFn=t,this.cache=r}async getS3ExpressIdentity(t,r){const n=r.Bucket,{cache:i}=this,s=i.get(n);return s?s.identity.then(o=>(o.expiration?.getTime()??0)<Date.now()?i.set(n,new Zr(this.getIdentity(n))).identity:((o.expiration?.getTime()??0)<Date.now()+Hr.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(n).then(c=>{i.set(n,new Zr(Promise.resolve(c)))})),o)):i.set(n,new Zr(this.getIdentity(n))).identity}async getIdentity(t){await this.cache.purgeExpired().catch(i=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+i)});const r=await this.createSessionFn(t);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}}Hr.REFRESH_WINDOW_MS=6e4;function De(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Yr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xn=function(e,t){return Xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Xn(e,t)};function uf(e,t){Xn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Zn=function(){return Zn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Zn.apply(this,arguments)};function lf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function ff(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function df(e,t){return function(r,n){t(r,n,e)}}function hf(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function pf(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function gf(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function yf(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function mf(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Yn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qa(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function bf(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Qa(arguments[t]));return e}function wf(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Kt(e){return this instanceof Kt?(this.v=e,this):new Kt(e)}function Sf(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(g){return new Promise(function(y,_){s.push([f,g,y,_])>1||a(f,g)})})}function a(f,g){try{u(n[f](g))}catch(y){h(s[0][3],y)}}function u(f){f.value instanceof Kt?Promise.resolve(f.value.v).then(c,l):h(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function xf(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Kt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function _f(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Yn=="function"?Yn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Ef(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Af(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function vf(e){return e&&e.__esModule?e:{default:e}}function Cf(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Rf(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Pf=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Zn},__asyncDelegator:xf,__asyncGenerator:Sf,__asyncValues:_f,__await:Kt,__awaiter:pf,__classPrivateFieldGet:Cf,__classPrivateFieldSet:Rf,__createBinding:yf,__decorate:ff,__exportStar:mf,__extends:uf,__generator:gf,__importDefault:vf,__importStar:Af,__makeTemplateObject:Ef,__metadata:hf,__param:df,__read:Qa,__rest:lf,__spread:bf,__spreadArrays:wf,__values:Yn},Symbol.toStringTag,{value:"Module"})),Ja=De(Pf);var Qr={},bt={};const Tf=e=>{const t=[];for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){const s=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},Of=e=>{let t="";for(let r=0,n=e.length;r<n;r++){const i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){const s=e[++r];t+=String.fromCharCode((i&31)<<6|s&63)}else if(240<=i&&i<365){const o="%"+[i,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function Bf(e){return new TextEncoder().encode(e)}function kf(e){return new TextDecoder("utf-8").decode(e)}const If=e=>typeof TextEncoder=="function"?Bf(e):Tf(e),Mf=e=>typeof TextDecoder=="function"?kf(e):Of(e),Nf=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:If,toUtf8:Mf},Symbol.toStringTag,{value:"Module"})),zr=De(Nf);var Ci;function Df(){if(Ci)return bt;Ci=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.convertToBuffer=void 0;var e=zr,t=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:e.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?t(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return bt.convertToBuffer=r,bt}var wt={},Ri;function $f(){if(Ri)return wt;Ri=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return wt.isEmptyData=e,wt}var St={},Pi;function Ff(){if(Pi)return St;Pi=1,Object.defineProperty(St,"__esModule",{value:!0}),St.numToUint8=void 0;function e(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}return St.numToUint8=e,St}var xt={},Ti;function Uf(){if(Ti)return xt;Ti=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.uint32ArrayFrom=void 0;function e(t){if(!Uint32Array.from){for(var r=new Uint32Array(t.length),n=0;n<t.length;)r[n]=t[n],n+=1;return r}return Uint32Array.from(t)}return xt.uint32ArrayFrom=e,xt}var Oi;function Xe(){return Oi||(Oi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=Df();Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=$f();Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=Ff();Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=Uf();Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})}(Qr)),Qr}var _t={},Bi;function Lf(){if(Bi)return _t;Bi=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.AwsCrc32=void 0;var e=Ja,t=Xe(),r=ec(),n=function(){function i(){this.crc32=new r.Crc32}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32.digest())]})})},i.prototype.reset=function(){this.crc32=new r.Crc32},i}();return _t.AwsCrc32=n,_t}var ki;function ec(){return ki||(ki=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=Ja,r=Xe();function n(u){return new i().update(u).digest()}e.crc32=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var l,h;try{for(var f=t.__values(c),g=f.next();!g.done;g=f.next()){var y=g.value;this.checksum=this.checksum>>>8^o[(this.checksum^y)&255]}}catch(_){l={error:_}}finally{try{g&&!g.done&&(h=f.return)&&h.call(f)}finally{if(l)throw l.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32=i;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=(0,r.uint32ArrayFrom)(s),a=Lf();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(Yr)),Yr}var Ns=ec();class zt{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&Ii(r),new zt(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&Ii(t),parseInt(we(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Ii(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class tc{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){const r=[];for(const s of Object.keys(t)){const o=this.fromUtf8(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(t.value,3),o;case"string":const a=this.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);const c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(zt.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!Xf.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const h=new Uint8Array(17);return h[0]=9,h.set(bl(t.value.replace(/\-/g,"")),1),h}}parse(t){const r={};let n=0;for(;n<t.byteLength;){const i=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[s]={type:Ni,value:!0};break;case 1:r[s]={type:Ni,value:!1};break;case 2:r[s]={type:jf,value:t.getInt8(n++)};break;case 3:r[s]={type:Hf,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:zf,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:qf,value:new zt(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:const o=t.getUint16(n,!1);n+=2,r[s]={type:Gf,value:new Uint8Array(t.buffer,t.byteOffset+n,o)},n+=o;break;case 7:const a=t.getUint16(n,!1);n+=2,r[s]={type:Kf,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:Vf,value:new Date(new zt(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const u=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:Wf,value:`${we(u.subarray(0,4))}-${we(u.subarray(4,6))}-${we(u.subarray(6,8))}-${we(u.subarray(8,10))}-${we(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var Mi;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Mi||(Mi={}));const Ni="boolean",jf="byte",Hf="short",zf="integer",qf="long",Gf="binary",Kf="string",Vf="timestamp",Wf="uuid",Xf=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,rc=4,je=rc*2,tt=4,Zf=je+tt*2;function Yf({byteLength:e,byteOffset:t,buffer:r}){if(e<Zf)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,t,e),i=n.getUint32(0,!1);if(e!==i)throw new Error("Reported message length does not match received message length");const s=n.getUint32(rc,!1),o=n.getUint32(je,!1),a=n.getUint32(e-tt,!1),u=new Ns.Crc32().update(new Uint8Array(r,t,je));if(o!==u.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(r,t+je,e-(je+tt))),a!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+je+tt,s),body:new Uint8Array(r,t+je+tt+s,i-s-(je+tt+tt))}}class Qf{constructor(t,r){this.headerMarshaller=new tc(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){const n=this.headerMarshaller.format(t),i=n.byteLength+r.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new Ns.Crc32;return o.setUint32(0,i,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(t){const{headers:r,body:n}=Yf(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}}class Jf{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class ed{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class td{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const r=await this.options.deserializer(t);r!==void 0&&(yield r)}}}class rd{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}const nd=e=>e[it]||(e[it]={}),Ce=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},sd="X-Amz-Algorithm",id="X-Amz-Credential",nc="X-Amz-Date",od="X-Amz-SignedHeaders",ad="X-Amz-Expires",sc="X-Amz-Signature",ic="X-Amz-Security-Token",oc="authorization",ac=nc.toLowerCase(),cd="date",ud=[oc,ac,cd],ld=sc.toLowerCase(),Qn="x-amz-content-sha256",fd=ic.toLowerCase(),dd={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},hd=/^proxy-/,pd=/^sec-/,Jr="AWS4-HMAC-SHA256",gd="AWS4-HMAC-SHA256-PAYLOAD",yd="UNSIGNED-PAYLOAD",md=50,cc="aws4_request",bd=60*60*24*7,lr={},en=[],tn=(e,t,r)=>`${e}/${t}/${r}/${cc}`,wd=async(e,t,r,n,i)=>{const s=await Di(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${i}:${we(s)}:${t.sessionToken}`;if(o in lr)return lr[o];for(en.push(o);en.length>md;)delete lr[en.shift()];let a=`AWS4${t.secretAccessKey}`;for(const u of[r,n,i,cc])a=await Di(e,a,u);return lr[o]=a},Di=(e,t,r)=>{const n=new e(t);return n.update(ft(r)),n.digest()},$i=({headers:e},t,r)=>{const n={};for(const i of Object.keys(e).sort()){if(e[i]==null)continue;const s=i.toLowerCase();(s in dd||t?.has(s)||hd.test(s)||pd.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[i].trim().replace(/\s+/g," "))}return n},Sd=({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e).sort()){if(n.toLowerCase()===ld)continue;t.push(n);const i=e[n];typeof i=="string"?r[n]=`${rt(n)}=${rt(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((s,o)=>s.concat([`${rt(n)}=${rt(o)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},uc=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",rn=async({headers:e,body:t},r)=>{for(const n of Object.keys(e))if(n.toLowerCase()===Qn)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||uc(t)){const n=new r;return n.update(ft(t)),we(await n.digest())}return yd},xd=(e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},lc=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?_d(t):void 0}),_d=e=>Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),Ed=(e,t={})=>{const{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():lc(e);for(const i of Object.keys(r)){const s=i.toLowerCase();s.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(s)&&(n[i]=r[i],delete r[i])}return{...e,headers:r,query:n}},Fi=e=>{e=typeof e.clone=="function"?e.clone():lc(e);for(const t of Object.keys(e.headers))ud.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},Ad=e=>vd(e).toISOString().replace(/\.\d{3}Z$/,"Z"),vd=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class Jn{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.headerMarshaller=new tc(Fr,rr),this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Ce(n),this.credentialProvider=Ce(r)}async presign(t,r={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,signingRegion:u,signingService:c}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);const h=u??await this.regionProvider(),{longDate:f,shortDate:g}=fr(n);if(i>bd)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=tn(g,h,c??this.service),_=Ed(Fi(t),{unhoistableHeaders:o});l.sessionToken&&(_.query[ic]=l.sessionToken),_.query[sd]=Jr,_.query[id]=`${l.accessKeyId}/${y}`,_.query[nc]=f,_.query[ad]=i.toString(10);const R=$i(_,s,a);return _.query[od]=Ui(R),_.query[sc]=await this.getSignature(f,y,this.getSigningKey(l,h,g,c),this.createCanonicalRequest(_,R,await rn(t,this.sha256))),_}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){const a=s??await this.regionProvider(),{shortDate:u,longDate:c}=fr(n),l=tn(u,a,o??this.service),h=await rn({headers:{},body:r},this.sha256),f=new this.sha256;f.update(t);const g=we(await f.digest()),y=[gd,c,l,i,g,h].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerMarshaller.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:a}=fr(r),u=new this.sha256(await this.getSigningKey(s,o,a,i));return u.update(ft(t)),we(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const u=s??await this.regionProvider(),c=Fi(t),{longDate:l,shortDate:h}=fr(r),f=tn(h,u,o??this.service);c.headers[ac]=l,a.sessionToken&&(c.headers[fd]=a.sessionToken);const g=await rn(c,this.sha256);!xd(Qn,c.headers)&&this.applyChecksum&&(c.headers[Qn]=g);const y=$i(c,i,n),_=await this.getSignature(l,f,this.getSigningKey(a,u,h,o),this.createCanonicalRequest(c,y,g));return c.headers[oc]=`${Jr} Credential=${a.accessKeyId}/${f}, SignedHeaders=${Ui(y)}, Signature=${_}`,c}createCanonicalRequest(t,r,n){const i=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Sd(t)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(t,r,n){const i=new this.sha256;i.update(ft(n));const s=await i.digest();return`${Jr}
${t}
${r}
${we(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const r=[];for(const s of t.split("/"))s?.length!==0&&s!=="."&&(s===".."?r.pop():r.push(s));const n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,i){const s=await this.createStringToSign(t,r,i),o=new this.sha256(await n);return o.update(ft(s)),we(await o.digest())}getSigningKey(t,r,n,i){return wd(this.sha256,t,n,r,i||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const fr=e=>{const t=Ad(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},Ui=e=>Object.keys(e).sort().join(";");var Li;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Li||(Li={}));const Cd="Directory",Rd="S3Express",Pd="sigv4-s3express",es="X-Amz-S3session-Token",ts=es.toLowerCase();class Td extends Jn{async signWithCredentials(t,r,n){const i=ji(r);t.headers[ts]=r.sessionToken;const s=this;return Hi(s,i),s.signRequest(t,n??{})}async presignWithCredentials(t,r,n){const i=ji(r);return delete t.headers[ts],t.headers[es]=r.sessionToken,t.query=t.query??{},t.query[es]=r.sessionToken,Hi(this,i),this.presign(t,n)}}function ji(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function Hi(e,t){const r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,i=()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t));e.credentialProvider=i}const Od=e=>(t,r)=>async n=>{if(r.endpointV2){const i=r.endpointV2,s=i.properties?.authSchemes?.[0]?.name===Pd;if((i.properties?.backend===Rd||i.properties?.bucketType===Cd)&&(r.isS3ExpressBucket=!0),s){const a=n.input.Bucket;if(a){const u=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:a});r.s3ExpressIdentity=u,ne.isInstance(n.request)&&u.sessionToken&&(n.request.headers[ts]=u.sessionToken)}}}return t(n)},Bd={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},kd=e=>({applyToStack:t=>{t.add(Od(e),Bd)}}),Id=(e,{session:t})=>{const[r,n]=t;return{...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1,s3ExpressIdentityProvider:e.s3ExpressIdentityProvider??new Hr(async i=>r().send(new n({Bucket:i,SessionMode:"ReadWrite"})))}},Md=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function Nd(){return e=>async t=>{const{input:{Bucket:r}}=t;if(typeof r=="string"&&!Md(r)&&r.indexOf("/")>=0){const n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return e({...t})}}const Dd={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},$d=e=>({applyToStack:t=>{t.add(Nd(),Dd)}}),fc=(e,t,r)=>{let n,i,s,o=!1;const a=async()=>{i||(i=e());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return t===void 0?async u=>((!s||u?.forceRefresh)&&(n=await a()),n):async u=>((!s||u?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},Fd=3e5,Ud=e=>{const t=e.credentials?Ld(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:i}=e;let s;return e.signer?s=Ce(e.signer):e.regionInfoProvider?s=()=>Ce(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:u,signingService:c}=o;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||c||e.serviceId;const l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},h=e.signerConstructor||Jn;return new h(l)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Ce(e.region)(),properties:{}},o);const a=o.signingRegion,u=o.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||u||e.serviceId;const c={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},l=e.signerConstructor||Jn;return new l(c)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}},Ld=e=>typeof e=="function"?fc(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<Fd,t=>t.expiration!==void 0):Ce(e),dc=e=>new Date(Date.now()+e),jd=(e,t)=>Math.abs(dc(t).getTime()-e)>=3e5,zi=(e,t)=>{const r=Date.parse(e);return jd(r,t)?r-Date.now():t},Hd=e=>(t,r)=>async function(n){if(!ne.isInstance(n.request))return t(n);const i=r.endpointV2?.properties?.authSchemes?.[0],s=i?.name==="sigv4a"?i?.signingRegionSet?.join(","):void 0,o=await e.signer(i);let a;const u={signingDate:dc(e.systemClockOffset),signingRegion:s||r.signing_region,signingService:r.signing_service};if(r.s3ExpressIdentity){if(a=await o.signWithCredentials(n.request,r.s3ExpressIdentity,u),a.headers["X-Amz-Security-Token"]||a.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.")}else a=await o.sign(n.request,u);const c=await t({...n,request:a}).catch(h=>{const f=h.ServerTime??qi(h.$response);throw f&&(e.systemClockOffset=zi(f,e.systemClockOffset)),h}),l=qi(c.response);return l&&(e.systemClockOffset=zi(l,e.systemClockOffset)),c},qi=e=>Cr.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,zd={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},qd=e=>({applyToStack:t=>{t.addRelativeTo(Hd(e),zd)}});function Gd(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}const Kd=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),hc=e=>Kd.test(e)||e.startsWith("[")&&e.endsWith("]"),Vd=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ds=(e,t=!1)=>{if(!t)return Vd.test(e);const r=e.split(".");for(const n of r)if(!Ds(n))return!1;return!0},rs={},Vt="endpoints";function Ve(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ve(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ve).join(", ")})`:JSON.stringify(e,null,2)}class xe extends Error{constructor(t){super(t),this.name="EndpointError"}}const Wd=(e,t)=>e===t,Xd=e=>{const t=e.split("."),r=[];for(const n of t){const i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new xe(`Path: '${e}' does not end with ']'`);const s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new xe(`Invalid array index: '${s}' in path: '${e}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},pc=(e,t)=>Xd(t).reduce((r,n)=>{if(typeof r!="object")throw new xe(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),Zd=e=>e!=null,Yd=e=>!e,nn={[qt.HTTP]:80,[qt.HTTPS]:443},Qd=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:f,port:g,protocol:y="",path:_="",query:R={}}=e,P=new URL(`${y}//${f}${g?`:${g}`:""}${_}`);return P.search=Object.entries(R).map(([N,U])=>`${N}=${U}`).join("&"),P}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=t;if(a)return null;const u=o.slice(0,-1);if(!Object.values(qt).includes(u))return null;const c=hc(i),l=r.includes(`${n}:${nn[u]}`)||typeof e=="string"&&e.includes(`${n}:${nn[u]}`),h=`${n}${l?`:${nn[u]}`:""}`;return{scheme:u,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:c}},Jd=(e,t)=>e===t,eh=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),th=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),rh={booleanEquals:Wd,getAttr:pc,isSet:Zd,isValidHostLabel:Ds,not:Yd,parseURL:Qd,stringEquals:Jd,substring:eh,uriEncode:th},gc=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let i=0;for(;i<e.length;){const s=e.indexOf("{",i);if(s===-1){r.push(e.slice(i));break}r.push(e.slice(i,s));const o=e.indexOf("}",s);if(o===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(s+1,o)),i=o+2);const a=e.substring(s+1,o);if(a.includes("#")){const[u,c]=a.split("#");r.push(pc(n[u],c))}else r.push(n[a]);i=o+1}return r.join("")},nh=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],qr=(e,t,r)=>{if(typeof e=="string")return gc(e,r);if(e.fn)return yc(e,r);if(e.ref)return nh(e,r);throw new xe(`'${t}': ${String(e)} is not a string, function or reference.`)},yc=({fn:e,argv:t},r)=>{const n=t.map(s=>["boolean","number"].includes(typeof s)?s:qr(s,"arg",r)),i=e.split(".");return i[0]in rs&&i[1]!=null?rs[i[0]][i[1]](...n):rh[e](...n)},sh=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new xe(`'${e}' is already defined in Reference Record.`);const n=yc(t,r);return r.logger?.debug?.(Vt,`evaluateCondition: ${Ve(t)} = ${Ve(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},$s=(e=[],t)=>{const r={};for(const n of e){const{result:i,toAssign:s}=sh(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};s&&(r[s.name]=s.value,t.logger?.debug?.(Vt,`assign: ${s.name} := ${Ve(s.value)}`))}return{result:!0,referenceRecord:r}},ih=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{const o=qr(s,"Header value entry",t);if(typeof o!="string")throw new xe(`Header '${n}' value '${o}' is not a string`);return o})}),{}),mc=(e,t)=>{if(Array.isArray(e))return e.map(r=>mc(r,t));switch(typeof e){case"string":return gc(e,t);case"object":if(e===null)throw new xe(`Unexpected endpoint property: ${e}`);return bc(e,t);case"boolean":return e;default:throw new xe(`Unexpected endpoint property type: ${typeof e}`)}},bc=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:mc(i,t)}),{}),oh=(e,t)=>{const r=qr(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new xe(`Endpoint URL must be a string, got ${typeof r}`)},ah=(e,t)=>{const{conditions:r,endpoint:n}=e,{result:i,referenceRecord:s}=$s(r,t);if(!i)return;const o={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:u,headers:c}=n;return t.logger?.debug?.(Vt,`Resolving endpoint from template: ${Ve(n)}`),{...c!=null&&{headers:ih(c,o)},...u!=null&&{properties:bc(u,o)},url:oh(a,o)}},ch=(e,t)=>{const{conditions:r,error:n}=e,{result:i,referenceRecord:s}=$s(r,t);if(i)throw new xe(qr(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},uh=(e,t)=>{const{conditions:r,rules:n}=e,{result:i,referenceRecord:s}=$s(r,t);if(i)return wc(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},wc=(e,t)=>{for(const r of e)if(r.type==="endpoint"){const n=ah(r,t);if(n)return n}else if(r.type==="error")ch(r,t);else if(r.type==="tree"){const n=uh(r,t);if(n)return n}else throw new xe(`Unknown endpoint rule: ${r}`);throw new xe("Rules evaluation failed")},lh=(e,t)=>{const{endpointParams:r,logger:n}=t,{parameters:i,rules:s}=e;t.logger?.debug?.(`${Vt} Initial EndpointParams: ${Ve(r)}`);const o=Object.entries(i).filter(([,c])=>c.default!=null).map(([c,l])=>[c,l.default]);if(o.length>0)for(const[c,l]of o)r[c]=r[c]??l;const a=Object.entries(i).filter(([,c])=>c.required).map(([c])=>c);for(const c of a)if(r[c]==null)throw new xe(`Missing required parameter: '${c}'`);const u=wc(s,{endpointParams:r,logger:n,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{const c=new URL(t.endpointParams.Endpoint),{protocol:l,port:h}=c;u.url.protocol=l,u.url.port=h}catch{}return t.logger?.debug?.(`${Vt} Resolved endpoint: ${Ve(u)}`),u},Sc=(e,t=!1)=>{if(t){for(const r of e.split("."))if(!Sc(r))return!1;return!0}return!(!Ds(e)||e.length<3||e.length>63||e!==e.toLowerCase()||hc(e))},fh=e=>{const t=e.split(":");if(t.length<6)return null;const[r,n,i,s,o,...a]=t;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:s,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},dh=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],hh="1.1",ph={partitions:dh,version:hh};let gh=ph;const yh=e=>{const{partitions:t}=gh;for(const n of t){const{regions:i,outputs:s}=n;for(const[o,a]of Object.entries(i))if(o===e)return{...s,...a}}for(const n of t){const{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(e))return{...s}}const r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},mh={isVirtualHostableS3Bucket:Sc,parseArn:fh,partition:yh};rs.aws=mh;const Gi="user-agent",sn="x-amz-user-agent",Ki=" ",on="/",bh=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,wh=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Vi="-",Sh=e=>(t,r)=>async n=>{const{request:i}=n;if(!ne.isInstance(i))return t(n);const{headers:s}=i,o=r?.userAgent?.map(an)||[],a=(await e.defaultUserAgentProvider()).map(an),u=e?.customUserAgent?.map(an)||[],c=[].concat([...a,...o,...u]).join(Ki),l=[...a.filter(h=>h.startsWith("aws-sdk-")),...u].join(Ki);return e.runtime!=="browser"?(l&&(s[sn]=s[sn]?`${s[Gi]} ${l}`:l),s[Gi]=c):s[sn]=c,t({...n,request:i})},an=e=>{const t=e[0].split(on).map(o=>o.replace(bh,Vi)).join(on),r=e[1]?.replace(wh,Vi),n=t.indexOf(on),i=t.substring(0,n);let s=t.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(o=>o&&o.length>0).reduce((o,a,u)=>{switch(u){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},xh={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},_h=e=>({applyToStack:t=>{t.add(Sh(e),xh)}}),Eh=!1,Ah=!1,xc=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),Wi=e=>xc(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,vh=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return Wi(t);const n=await t();return Wi(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return xc(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},Ch=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),Xi="content-length";function Rh(e){return t=>async r=>{const n=r.request;if(ne.isInstance(n)){const{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(Xi)===-1)try{const o=e(i);n.headers={...n.headers,[Xi]:String(o)}}catch{}}return t({...r,request:n})}}const Ph={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Th=e=>({applyToStack:t=>{t.add(Rh(e.bodyLengthChecker),Ph)}}),Oh=async e=>{const t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Nh(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Mh(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Bh=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,kh=/(\d+\.){3}\d+/,Ih=/\.\./,Mh=e=>Bh.test(e)&&!kh.test(e)&&!Ih.test(e),Nh=e=>{const[t,r,n,i,s,o]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,u=[t,r,n,s,o].filter(Boolean).length===5;if(a&&!u)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!o},Dh=(e,t,r)=>{const n=async()=>{const i=r[e]??r[t];return typeof i=="function"?i():i};return e==="endpoint"||t==="endpoint"?async()=>{const i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){const{protocol:s,hostname:o,port:a,path:u}=i;return`${s}//${o}${a?":"+a:""}${u}`}}return i}:n},$h=async e=>{};function Fh(e){const t={};if(e=e.replace(/^\?/,""),e)for(const r of e.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}const Tr=e=>{if(typeof e=="string")return Tr(new URL(e));const{hostname:t,pathname:r,port:n,protocol:i,search:s}=e;let o;return s&&(o=Fh(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},_c=e=>typeof e=="object"?"url"in e?Tr(e.url):e:Tr(e),Uh=async(e,t,r,n)=>{if(!r.endpoint){const o=await $h(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(_c(o)))}const i=await Lh(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},Lh=async(e,t,r)=>{const n={},i=t?.getEndpointParameterInstructions?.()||{};for(const[s,o]of Object.entries(i))switch(o.type){case"staticContextParams":n[s]=o.value;break;case"contextParams":n[s]=e[o.name];break;case"clientContextParams":case"builtInParams":n[s]=await Dh(o.name,s,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Oh(n),n},jh=({config:e,instructions:t})=>(r,n)=>async i=>{const s=await Uh(i.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;const o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const u=nd(n)?.selectedHttpAuthScheme?.httpAuthOption;u&&(u.signingProperties=Object.assign(u.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...i})},Hh=(e,t)=>(r,n)=>async i=>{const{response:s}=await r(i);try{const o=await t(s,e);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+a}throw o}},zh=(e,t)=>(r,n)=>async i=>{const s=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const o=await t(i.input,{...e,endpoint:s});return r({...i,request:o})},qh={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ec={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ir(e,t,r){return{applyToStack:n=>{n.add(Hh(e,r),qh),n.add(zh(e,t),Ec)}}}const Gh={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Ec.name},or=(e,t)=>({applyToStack:r=>{r.addRelativeTo(jh({config:e,instructions:t}),Gh)}}),Kh=e=>{const t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>_c(await Ce(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Ce(e.useDualstackEndpoint??!1),useFipsEndpoint:Ce(e.useFipsEndpoint??!1)}};var ht;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(ht||(ht={}));const Or=3,Vh=ht.STANDARD,Wh=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Xh=["TimeoutError","RequestTimeout","RequestTimeoutException"],Zh=[500,502,503,504],Yh=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Ac=e=>e.$metadata?.httpStatusCode===429||Wh.includes(e.name)||e.$retryable?.throttling==!0,vc=e=>Xh.includes(e.name)||Yh.includes(e?.code||"")||Zh.includes(e.$metadata?.httpStatusCode||0),Qh=e=>{if(e.$metadata?.httpStatusCode!==void 0){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!vc(e)}return!1};class Jh{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Ac(t)){const i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}const ns=100,Cc=20*1e3,ep=500,Zi=500,tp=5,rp=10,np=1,sp="amz-sdk-invocation-id",ip="amz-sdk-request",op=()=>{let e=ns;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Cc,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},Yi=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Cc,e),getRetryCost:()=>r});class Rc{constructor(t){this.maxAttempts=t,this.mode=ht.STANDARD,this.capacity=Zi,this.retryBackoffStrategy=op(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Yi({retryDelay:ns,retryCount:0})}async refreshRetryTokenForRetry(t,r){const n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){const i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?ep:ns);const s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,Yi({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(Zi,this.capacity+(t.getRetryCost()??np))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Or}`),Or}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?rp:tp}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class ap{constructor(t,r){this.maxAttemptsProvider=t,this.mode=ht.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new Jh,this.standardRetryStrategy=new Rc(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}var dr,cp=new Uint8Array(16);function up(){if(!dr&&(dr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dr(cp)}const lp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function fp(e){return typeof e=="string"&&lp.test(e)}var ie=[];for(var cn=0;cn<256;++cn)ie.push((cn+256).toString(16).substr(1));function dp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ie[e[t+0]]+ie[e[t+1]]+ie[e[t+2]]+ie[e[t+3]]+"-"+ie[e[t+4]]+ie[e[t+5]]+"-"+ie[e[t+6]]+ie[e[t+7]]+"-"+ie[e[t+8]]+ie[e[t+9]]+"-"+ie[e[t+10]]+ie[e[t+11]]+ie[e[t+12]]+ie[e[t+13]]+ie[e[t+14]]+ie[e[t+15]]).toLowerCase();if(!fp(r))throw TypeError("Stringified UUID is invalid");return r}function hp(e,t,r){e=e||{};var n=e.random||(e.rng||up)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return dp(n)}const pp=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),gp=e=>{const{retryStrategy:t}=e,r=Ce(e.maxAttempts??Or);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await Ce(e.retryMode)()===ht.ADAPTIVE?new ap(r):new Rc(r))}},yp=e=>e?.body instanceof ReadableStream,mp=e=>(t,r)=>async n=>{let i=await e.retryStrategy();const s=await e.maxAttempts();if(bp(i)){i=i;let o=await i.acquireInitialRetryToken(r.partition_id),a=new Error,u=0,c=0;const{request:l}=n,h=ne.isInstance(l);for(h&&(l.headers[sp]=hp());;)try{h&&(l.headers[ip]=`attempt=${u+1}; max=${s}`);const{response:f,output:g}=await t(n);return i.recordSuccess(o),g.$metadata.attempts=u+1,g.$metadata.totalRetryDelay=c,{response:f,output:g}}catch(f){const g=wp(f);if(a=pp(f),h&&yp(l))throw(r.logger instanceof Rs?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await i.refreshRetryTokenForRetry(o,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=u+1,a.$metadata.totalRetryDelay=c,a}u=o.getRetryCount();const y=o.getRetryDelay();c+=y,await new Promise(_=>setTimeout(_,y))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},bp=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",wp=e=>{const t={errorType:Sp(e)},r=Ep(e.$response);return r&&(t.retryAfterHint=r),t},Sp=e=>Ac(e)?"THROTTLING":vc(e)?"TRANSIENT":Qh(e)?"SERVER_ERROR":"CLIENT_ERROR",xp={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},_p=e=>({applyToStack:t=>{t.add(mp(e),xp)}}),Ep=e=>{if(!Cr.isInstance(e))return;const t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};class yt extends Ms{constructor(t){super(t),Object.setPrototypeOf(this,yt.prototype)}}class Fs extends yt{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,Fs.prototype)}}var Qi;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Qi||(Qi={}));var Ji;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Ji||(Ji={}));var eo;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(eo||(eo={}));var to;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(to||(to={}));class Us extends yt{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,Us.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}}class Ls extends yt{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,Ls.prototype)}}const Ap=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Ne},...e.SessionToken&&{SessionToken:Ne}}),vp=e=>({...e,...e.Credentials&&{Credentials:Ap(e.Credentials)}}),Cp=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ne}}),Rp=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ne}});var js={},Gr={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",i=new RegExp("^"+n+"$"),s=function(a,u){const c=[];let l=u.exec(a);for(;l;){const h=[];h.startIndex=u.lastIndex-l[0].length;const f=l.length;for(let g=0;g<f;g++)h.push(l[g]);c.push(h),l=u.exec(a)}return c},o=function(a){const u=i.exec(a);return!(u===null||typeof u>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,u,c){if(u){const l=Object.keys(u),h=l.length;for(let f=0;f<h;f++)c==="strict"?a[l[f]]=[u[l[f]]]:a[l[f]]=u[l[f]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=o,e.getAllMatches=s,e.nameRegexp=n})(Gr);const Hs=Gr,Pp={allowBooleanAttributes:!1,unpairedTags:[]};js.validate=function(e,t){t=Object.assign({},Pp,t);const r=[];let n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=no(e,s),s.err)return s}else if(e[s]==="<"){let o=s;if(s++,e[s]==="!"){s=so(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let u="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)u+=e[s];if(u=u.trim(),u[u.length-1]==="/"&&(u=u.substring(0,u.length-1),s--),!Dp(u)){let h;return u.trim().length===0?h="Invalid space after '<'.":h="Tag '"+u+"' is an invalid name.",K("InvalidTag",h,ge(e,s))}const c=Bp(e,s);if(c===!1)return K("InvalidAttr","Attributes for '"+u+"' have open quote.",ge(e,s));let l=c.value;if(s=c.index,l[l.length-1]==="/"){const h=s-l.length;l=l.substring(0,l.length-1);const f=io(l,t);if(f===!0)n=!0;else return K(f.err.code,f.err.msg,ge(e,h+f.err.line))}else if(a)if(c.tagClosed){if(l.trim().length>0)return K("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",ge(e,o));{const h=r.pop();if(u!==h.tagName){let f=ge(e,h.tagStartPos);return K("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+u+"'.",ge(e,o))}r.length==0&&(i=!0)}}else return K("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",ge(e,s));else{const h=io(l,t);if(h!==!0)return K(h.err.code,h.err.msg,ge(e,s-l.length+h.err.line));if(i===!0)return K("InvalidXml","Multiple possible root nodes found.",ge(e,s));t.unpairedTags.indexOf(u)!==-1||r.push({tagName:u,tagStartPos:o}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=so(e,s);continue}else if(e[s+1]==="?"){if(s=no(e,++s),s.err)return s}else break;else if(e[s]==="&"){const h=Mp(e,s);if(h==-1)return K("InvalidChar","char '&' is not expected.",ge(e,s));s=h}else if(i===!0&&!ro(e[s]))return K("InvalidXml","Extra text at the end",ge(e,s));e[s]==="<"&&s--}}else{if(ro(e[s]))continue;return K("InvalidChar","char '"+e[s]+"' is not expected.",ge(e,s))}if(n){if(r.length==1)return K("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ge(e,r[0].tagStartPos));if(r.length>0)return K("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return K("InvalidXml","Start tag expected.",1);return!0};function ro(e){return e===" "||e==="	"||e===`
`||e==="\r"}function no(e,t){const r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const n=e.substr(r,t-r);if(t>5&&n==="xml")return K("InvalidXml","XML declaration allowed only at the start of the document.",ge(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function so(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const Tp='"',Op="'";function Bp(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===Tp||e[t]===Op)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}const kp=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function io(e,t){const r=Hs.getAllMatches(e,kp),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return K("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",Et(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return K("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",Et(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return K("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",Et(r[i]));const s=r[i][2];if(!Np(s))return K("InvalidAttr","Attribute '"+s+"' is an invalid name.",Et(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return K("InvalidAttr","Attribute '"+s+"' is repeated.",Et(r[i]))}return!0}function Ip(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Mp(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Ip(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function K(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Np(e){return Hs.isName(e)}function Dp(e){return Hs.isName(e)}function ge(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Et(e){return e.startIndex+e[1].length}var zs={};const Pc={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},$p=function(e){return Object.assign({},Pc,e)};zs.buildOptions=$p;zs.defaultOptions=Pc;class Fp{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}var Up=Fp;const Lp=Gr;function jp(e,t){const r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,i=!1,s=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(i&&qp(e,t))t+=7,[entityName,val,t]=Hp(e,t+1),val.indexOf("&")===-1&&(r[Wp(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&Gp(e,t))t+=8;else if(i&&Kp(e,t))t+=8;else if(i&&Vp(e,t))t+=9;else if(zp)s=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?i=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function Hp(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const n=e[t++];let i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function zp(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function qp(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Gp(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function Kp(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function Vp(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function Wp(e){if(Lp.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var Xp=jp;const Zp=/^[-+]?0x[a-fA-F0-9]+$/,Yp=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Qp={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Jp(e,t={}){if(t=Object.assign({},Qp,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&Zp.test(r))return Number.parseInt(r,16);{const n=Yp.exec(r);if(n){const i=n[1],s=n[2];let o=eg(n[3]);const a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!i&&r[1]!==".")return e;{const u=Number(r),c=""+u;return c.search(/[eE]/)!==-1||a?t.eNotation?u:e:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?u:e:s?o===c||i+o===c?u:e:r===c||r===i+c?u:e}}else return e}}function eg(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var tg=Jp;const qs=Gr,At=Up,rg=Xp,ng=tg;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,qs.nameRegexp);let sg=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""}},this.addExternalEntities=ig,this.parseXml=lg,this.parseTextData=og,this.resolveNameSpace=ag,this.buildAttributesMap=ug,this.isItStopNode=pg,this.replaceEntitiesValue=dg,this.readStopNodeData=yg,this.saveTextToParentTag=hg,this.addChild=fg}};function ig(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function og(e,t,r,n,i,s,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,r,i,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?is(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?is(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function ag(e){if(this.options.removeNSPrefix){const t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}const cg=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function ug(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){const n=qs.getAllMatches(e,cg),i=n.length,s={};for(let o=0;o<i;o++){const a=this.resolveNameSpace(n[o][1]);let u=n[o][4],c=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);const l=this.options.attributeValueProcessor(a,u,t);l==null?s[c]=u:typeof l!=typeof u||l!==u?s[c]=l:s[c]=is(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const lg=function(e){e=e.replace(/\r\n?/g,`
`);const t=new At("!xml");let r=t,n="",i="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){const a=nt(e,">",s,"Closing Tag is not closed.");let u=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){const h=u.indexOf(":");h!==-1&&(u=u.substr(h+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&(n=this.saveTextToParentTag(n,r,i));const c=i.substring(i.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let l=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(l=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=i.lastIndexOf("."),i=i.substring(0,l),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=ss(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const u=new At(a.tagName);u.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(u[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,u,i)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){const a=nt(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const u=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}s=a}else if(e.substr(s+1,2)==="!D"){const a=rg(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){const a=nt(e,"]]>",s,"CDATA is not closed.")-2,u=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]);else{let c=this.parseTextData(u,r.tagname,i,!0,!1,!0);c==null&&(c=""),r.add(this.options.textNodeName,c)}s=a+2}else{let a=ss(e,s,this.options.removeNSPrefix),u=a.tagName,c=a.tagExp,l=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));const f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),u!==t.tagname&&(i+=i?"."+u:u),this.isItStopNode(this.options.stopNodes,i,u)){let g="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)s=a.closeIndex;else{const _=this.readStopNodeData(e,u,h+1);if(!_)throw new Error(`Unexpected end of ${u}`);s=_.i,g=_.tagContent}const y=new At(u);u!==c&&l&&(y[":@"]=this.buildAttributesMap(c,i,u)),g&&(g=this.parseTextData(g,u,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),y.add(this.options.textNodeName,g),this.addChild(r,y,i)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),c=u):c=c.substr(0,c.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const g=new At(u);u!==c&&l&&(g[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,g,i),i=i.substr(0,i.lastIndexOf("."))}else{const g=new At(u);this.tagsNodeStack.push(r),u!==c&&l&&(g[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,g,i),r=g}n="",s=h}}else n+=e[s];return t.child};function fg(e,t,r){const n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}const dg=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function hg(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function pg(e,t,r){const n="*."+r;for(const i in e){const s=e[i];if(n===s||t===s)return!0}return!1}function gg(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let o=e[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function nt(e,t,r,n){const i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}function ss(e,t,r,n=">"){const i=gg(e,t+1,n);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let u=s,c=!0;if(a!==-1&&(u=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){const l=u.indexOf(":");l!==-1&&(u=u.substr(l+1),c=u!==i.data.substr(l+1))}return{tagName:u,tagExp:s,closeIndex:o,attrExpPresent:c}}function yg(e,t,r){const n=r;let i=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){const s=nt(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(i--,i===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=nt(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=nt(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=nt(e,"]]>",r,"StopNode is not closed.")-2;else{const s=ss(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function is(e,t,r){if(t&&typeof e=="string"){const n=e.trim();return n==="true"?!0:n==="false"?!1:ng(e,r)}else return qs.isExist(e)?e:""}var mg=sg,Tc={};function bg(e,t){return Oc(e,t)}function Oc(e,t,r){let n;const i={};for(let s=0;s<e.length;s++){const o=e[s],a=wg(o);let u="";if(r===void 0?u=a:u=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let c=Oc(o[a],t,u);const l=xg(c,t);o[":@"]?Sg(c,o[":@"],u,t):Object.keys(c).length===1&&c[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?c=c[t.textNodeName]:Object.keys(c).length===0&&(t.alwaysCreateTextNode?c[t.textNodeName]="":c=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(c)):t.isArray(a,u,l)?i[a]=[c]:i[a]=c}}}return typeof n=="string"?n.length>0&&(i[t.textNodeName]=n):n!==void 0&&(i[t.textNodeName]=n),i}function wg(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function Sg(e,t,r,n){if(t){const i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){const a=i[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function xg(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}Tc.prettify=bg;const{buildOptions:_g}=zs,Eg=mg,{prettify:Ag}=Tc,vg=js;let Cg=class{constructor(t){this.externalEntities={},this.options=_g(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=vg.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const n=new Eg(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(t);return this.options.preserveOrder||i===void 0?i:Ag(i,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};var Rg=Cg;const Pg=`
`;function Tg(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=Pg),Bc(e,t,"",r)}function Bc(e,t,r,n){let i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o],u=Og(a);let c="";if(r.length===0?c=u:c=`${r}.${u}`,u===t.textNodeName){let y=a[u];Bg(c,t)||(y=t.tagValueProcessor(u,y),y=kc(y,t)),s&&(i+=n),i+=y,s=!1;continue}else if(u===t.cdataPropName){s&&(i+=n),i+=`<![CDATA[${a[u][0][t.textNodeName]}]]>`,s=!1;continue}else if(u===t.commentPropName){i+=n+`<!--${a[u][0][t.textNodeName]}-->`,s=!0;continue}else if(u[0]==="?"){const y=oo(a[":@"],t),_=u==="?xml"?"":n;let R=a[u][0][t.textNodeName];R=R.length!==0?" "+R:"",i+=_+`<${u}${R}${y}?>`,s=!0;continue}let l=n;l!==""&&(l+=t.indentBy);const h=oo(a[":@"],t),f=n+`<${u}${h}`,g=Bc(a[u],t,c,l);t.unpairedTags.indexOf(u)!==-1?t.suppressUnpairedNode?i+=f+">":i+=f+"/>":(!g||g.length===0)&&t.suppressEmptyNode?i+=f+"/>":g&&g.endsWith(">")?i+=f+`>${g}${n}</${u}>`:(i+=f+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?i+=n+t.indentBy+g+n:i+=g,i+=`</${u}>`),s=!0}return i}function Og(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function oo(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let i=t.attributeValueProcessor(n,e[n]);i=kc(i,t),i===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function Bg(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function kc(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}var kg=Tg;const Ig=kg,Mg={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Ze(e){this.options=Object.assign({},Mg,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=$g),this.processTextOrObjNode=Ng,this.options.format?(this.indentate=Dg,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Ze.prototype.build=function(e){return this.options.preserveOrder?Ig(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Ze.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(!(typeof e[i]>"u"))if(e[i]===null)i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if(typeof e[i]!="object"){const s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+e[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const s=e[i].length;let o="";for(let a=0;a<s;a++){const u=e[i][a];typeof u>"u"||(u===null?i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof u=="object"?this.options.oneListGroup?o+=this.j2x(u,t+1).val:o+=this.processTextOrObjNode(u,i,t):o+=this.buildTextValNode(u,i,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",t)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const s=Object.keys(e[i]),o=s.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(s[a],""+e[i][s[a]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};Ze.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Ng(e,t,r){const n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Ze.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",i=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+i:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}};Ze.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Ze.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}};Ze.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Dg(e){return this.options.indentBy.repeat(e)}function $g(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}var Fg=Ze;const Ug=js,Lg=Rg,jg=Fg;var Hg={XMLParser:Lg,XMLValidator:Ug,XMLBuilder:jg},ao;(function(e){e.visit=(t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])})(ao||(ao={}));const zg=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Ne},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ne}}),qg=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Ne},...e.SSEKMSKeyId&&{SSEKMSKeyId:Ne},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Ne}}),Gg=async(e,t)=>{const{hostname:r,protocol:n="https",port:i,path:s}=await t.endpoint(),o=Y({},Se,{"x-amz-create-session-mode":e.SessionMode});let a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/`;a=Ke(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);const u=Y({session:[,""]});let c;return new ne({protocol:n,hostname:r,port:i,method:"GET",headers:o,path:a,query:u,body:c})},Kg=async(e,t)=>{const{hostname:r,protocol:n="https",port:i,path:s}=await t.endpoint(),o=Y({},Se,{"x-amz-mfa":e.MFA,"x-amz-request-payer":e.RequestPayer,"x-amz-bypass-governance-retention":[()=>Se(e.BypassGovernanceRetention),()=>e.BypassGovernanceRetention.toString()],"x-amz-expected-bucket-owner":e.ExpectedBucketOwner});let a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Ke(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Ke(a,e,"Key",()=>e.Key,"{Key+}",!0);const u=Y({"x-id":[,"DeleteObject"],versionId:[,e.VersionId]});let c;return new ne({protocol:n,hostname:r,port:i,method:"DELETE",headers:o,path:a,query:u,body:c})},Vg=async(e,t)=>{const{hostname:r,protocol:n="https",port:i,path:s}=await t.endpoint(),o=Y({},Se,{"if-match":e.IfMatch,"if-modified-since":[()=>Se(e.IfModifiedSince),()=>yr(e.IfModifiedSince).toString()],"if-none-match":e.IfNoneMatch,"if-unmodified-since":[()=>Se(e.IfUnmodifiedSince),()=>yr(e.IfUnmodifiedSince).toString()],range:e.Range,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-mode":e.ChecksumMode});let a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Ke(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Ke(a,e,"Key",()=>e.Key,"{Key+}",!0);const u=Y({"x-id":[,"GetObject"],"response-cache-control":[,e.ResponseCacheControl],"response-content-disposition":[,e.ResponseContentDisposition],"response-content-encoding":[,e.ResponseContentEncoding],"response-content-language":[,e.ResponseContentLanguage],"response-content-type":[,e.ResponseContentType],"response-expires":[()=>e.ResponseExpires!==void 0,()=>yr(e.ResponseExpires).toString()],versionId:[,e.VersionId],partNumber:[()=>e.PartNumber!==void 0,()=>e.PartNumber.toString()]});let c;return new ne({protocol:n,hostname:r,port:i,method:"GET",headers:o,path:a,query:u,body:c})},Wg=async(e,t)=>{const{hostname:r,protocol:n="https",port:i,path:s}=await t.endpoint(),o=Y({},Se,{"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-optional-object-attributes":[()=>Se(e.OptionalObjectAttributes),()=>(e.OptionalObjectAttributes||[]).map(l=>l).join(", ")]});let a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/`;a=Ke(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);const u=Y({"list-type":[,"2"],delimiter:[,e.Delimiter],"encoding-type":[,e.EncodingType],"max-keys":[()=>e.MaxKeys!==void 0,()=>e.MaxKeys.toString()],prefix:[,e.Prefix],"continuation-token":[,e.ContinuationToken],"fetch-owner":[()=>e.FetchOwner!==void 0,()=>e.FetchOwner.toString()],"start-after":[,e.StartAfter]});let c;return new ne({protocol:n,hostname:r,port:i,method:"GET",headers:o,path:a,query:u,body:c})},Xg=async(e,t)=>{const{hostname:r,protocol:n="https",port:i,path:s}=await t.endpoint(),o=Y({},Se,{"content-type":e.ContentType||"application/octet-stream","x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-length":[()=>Se(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,expires:[()=>Se(e.Expires),()=>yr(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>Se(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>Se(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((h,f)=>(h[`x-amz-meta-${f.toLowerCase()}`]=e.Metadata[f],h),{})});let a=`${s?.endsWith("/")?s.slice(0,-1):s||""}/{Key+}`;a=Ke(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Ke(a,e,"Key",()=>e.Key,"{Key+}",!0);const u=Y({"x-id":[,"PutObject"]});let c;e.Body!==void 0&&(c=e.Body);let l;return e.Body!==void 0&&(l=e.Body,c=l),new ne({protocol:n,hostname:r,port:i,method:"PUT",headers:o,path:a,query:u,body:c})},Zg=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Yg(e,t);const r=Y({$metadata:Ye(e)}),n=ze(Va(await Gs(e.body,t)),"body");return n.Credentials!==void 0&&(r.Credentials=gy(n.Credentials)),r},Yg=async(e,t)=>{const r={...e,body:await cr(e.body,t)},n=ur(e,r.body);switch(n){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await Ic(r);default:const i=r.body;return ar({output:e,parsedBody:i,errorCode:n})}},Qg=async(e,t)=>{if(e.statusCode!==204&&e.statusCode>=300)return Jg(e,t);const r=Y({$metadata:Ye(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>dt(e.headers["x-amz-delete-marker"])],VersionId:[,e.headers["x-amz-version-id"]],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await Bs(e.body,t),r},Jg=async(e,t)=>{const r={...e,body:await cr(e.body,t)},n=ur(e,r.body),i=r.body;return ar({output:e,parsedBody:i,errorCode:n})},ey=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ty(e,t);const r=Y({$metadata:Ye(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>dt(e.headers["x-amz-delete-marker"])],AcceptRanges:[,e.headers["accept-ranges"]],Expiration:[,e.headers["x-amz-expiration"]],Restore:[,e.headers["x-amz-restore"]],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>ze(Ai(e.headers["last-modified"]))],ContentLength:[()=>e.headers["content-length"]!==void 0,()=>Wa(e.headers["content-length"])],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],MissingMeta:[()=>e.headers["x-amz-missing-meta"]!==void 0,()=>Ht(e.headers["x-amz-missing-meta"])],VersionId:[,e.headers["x-amz-version-id"]],CacheControl:[,e.headers["cache-control"]],ContentDisposition:[,e.headers["content-disposition"]],ContentEncoding:[,e.headers["content-encoding"]],ContentLanguage:[,e.headers["content-language"]],ContentRange:[,e.headers["content-range"]],ContentType:[,e.headers["content-type"]],Expires:[()=>e.headers.expires!==void 0,()=>ze(Ai(e.headers.expires))],WebsiteRedirectLocation:[,e.headers["x-amz-website-redirect-location"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>dt(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],StorageClass:[,e.headers["x-amz-storage-class"]],RequestCharged:[,e.headers["x-amz-request-charged"]],ReplicationStatus:[,e.headers["x-amz-replication-status"]],PartsCount:[()=>e.headers["x-amz-mp-parts-count"]!==void 0,()=>Ht(e.headers["x-amz-mp-parts-count"])],TagCount:[()=>e.headers["x-amz-tagging-count"]!==void 0,()=>Ht(e.headers["x-amz-tagging-count"])],ObjectLockMode:[,e.headers["x-amz-object-lock-mode"]],ObjectLockRetainUntilDate:[()=>e.headers["x-amz-object-lock-retain-until-date"]!==void 0,()=>ze(Ur(e.headers["x-amz-object-lock-retain-until-date"]))],ObjectLockLegalHoldStatus:[,e.headers["x-amz-object-lock-legal-hold"]],Metadata:[,Object.keys(e.headers).filter(i=>i.startsWith("x-amz-meta-")).reduce((i,s)=>(i[s.substring(11)]=e.headers[s],i),{})]}),n=e.body;return t.sdkStreamMixin(n),r.Body=n,r},ty=async(e,t)=>{const r={...e,body:await cr(e.body,t)},n=ur(e,r.body);switch(n){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await oy(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await ay(r);default:const i=r.body;return ar({output:e,parsedBody:i,errorCode:n})}},ry=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ny(e,t);const r=Y({$metadata:Ye(e),RequestCharged:[,e.headers["x-amz-request-charged"]]}),n=ze(Va(await Gs(e.body,t)),"body");return n.CommonPrefixes===""?r.CommonPrefixes=[]:n.CommonPrefixes!==void 0&&(r.CommonPrefixes=ly(Vn(n.CommonPrefixes))),n.Contents===""?r.Contents=[]:n.Contents!==void 0&&(r.Contents=dy(Vn(n.Contents))),n.ContinuationToken!==void 0&&(r.ContinuationToken=Z(n.ContinuationToken)),n.Delimiter!==void 0&&(r.Delimiter=Z(n.Delimiter)),n.EncodingType!==void 0&&(r.EncodingType=Z(n.EncodingType)),n.IsTruncated!==void 0&&(r.IsTruncated=dt(n.IsTruncated)),n.KeyCount!==void 0&&(r.KeyCount=Ht(n.KeyCount)),n.MaxKeys!==void 0&&(r.MaxKeys=Ht(n.MaxKeys)),n.Name!==void 0&&(r.Name=Z(n.Name)),n.NextContinuationToken!==void 0&&(r.NextContinuationToken=Z(n.NextContinuationToken)),n.Prefix!==void 0&&(r.Prefix=Z(n.Prefix)),n.StartAfter!==void 0&&(r.StartAfter=Z(n.StartAfter)),r},ny=async(e,t)=>{const r={...e,body:await cr(e.body,t)},n=ur(e,r.body);switch(n){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await Ic(r);default:const i=r.body;return ar({output:e,parsedBody:i,errorCode:n})}},sy=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return iy(e,t);const r=Y({$metadata:Ye(e),Expiration:[,e.headers["x-amz-expiration"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>dt(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await Bs(e.body,t),r},iy=async(e,t)=>{const r={...e,body:await cr(e.body,t)},n=ur(e,r.body),i=r.body;return ar({output:e,parsedBody:i,errorCode:n})},ar=Ll(yt),oy=async(e,t)=>{const r=Y({}),n=e.body;n.AccessTier!==void 0&&(r.AccessTier=Z(n.AccessTier)),n.StorageClass!==void 0&&(r.StorageClass=Z(n.StorageClass));const i=new Us({$metadata:Ye(e),...r});return Lr(i,e.body)},Ic=async(e,t)=>{const r=Y({});e.body;const n=new Fs({$metadata:Ye(e),...r});return Lr(n,e.body)},ay=async(e,t)=>{const r=Y({});e.body;const n=new Ls({$metadata:Ye(e),...r});return Lr(n,e.body)},cy=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Z(r)),uy=(e,t)=>{const r={};return e.Prefix!==void 0&&(r.Prefix=Z(e.Prefix)),r},ly=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>uy(r)),fy=(e,t)=>{const r={};return e.Key!==void 0&&(r.Key=Z(e.Key)),e.LastModified!==void 0&&(r.LastModified=ze(Ur(e.LastModified))),e.ETag!==void 0&&(r.ETag=Z(e.ETag)),e.ChecksumAlgorithm===""?r.ChecksumAlgorithm=[]:e.ChecksumAlgorithm!==void 0&&(r.ChecksumAlgorithm=cy(Vn(e.ChecksumAlgorithm))),e.Size!==void 0&&(r.Size=Wa(e.Size)),e.StorageClass!==void 0&&(r.StorageClass=Z(e.StorageClass)),e.Owner!==void 0&&(r.Owner=hy(e.Owner)),e.RestoreStatus!==void 0&&(r.RestoreStatus=py(e.RestoreStatus)),r},dy=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>fy(r)),hy=(e,t)=>{const r={};return e.DisplayName!==void 0&&(r.DisplayName=Z(e.DisplayName)),e.ID!==void 0&&(r.ID=Z(e.ID)),r},py=(e,t)=>{const r={};return e.IsRestoreInProgress!==void 0&&(r.IsRestoreInProgress=dt(e.IsRestoreInProgress)),e.RestoreExpiryDate!==void 0&&(r.RestoreExpiryDate=ze(Ur(e.RestoreExpiryDate))),r},gy=(e,t)=>{const r={};return e.AccessKeyId!==void 0&&(r.AccessKeyId=Z(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=Z(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=Z(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=ze(Ur(e.Expiration))),r},Ye=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),yy=(e,t)=>Bs(e,t).then(r=>t.utf8Encoder(r)),Se=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Gs=(e,t)=>yy(e,t).then(r=>{if(r.length){const n=new Hg.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(u,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);const i=n.parse(r),s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),Ya(a)}return{}}),cr=async(e,t)=>{const r=await Gs(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},ur=(e,t)=>{if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};class Ks extends nr{static getEndpointParameterInstructions(){return{DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(ir(r,this.serialize,this.deserialize)),this.middlewareStack.use(or(r,Ks.getEndpointParameterInstructions()));const i=t.concat(this.middlewareStack),{logger:s}=r,u={logger:s,clientName:"S3Client",commandName:"CreateSessionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:vp,[it]:{service:"AmazonS3",operation:"CreateSession"}},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),u)}serialize(t,r){return Gg(t,r)}deserialize(t,r){return Zg(t,r)}}const my=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),by="@aws-sdk/client-s3",wy="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",Sy="3.465.0",xy={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"yarn test:e2e:node && yarn test:e2e:browser","test:e2e:browser":"ts-mocha test/**/*.browser.ispec.ts && karma start karma.conf.js","test:e2e:node":"jest --c jest.config.e2e.js","test:unit":"ts-mocha test/unit/**/*.spec.ts"},_y="./dist-cjs/index.js",Ey="./dist-types/index.d.ts",Ay="./dist-es/index.js",vy=!1,Cy={"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.465.0","@aws-sdk/core":"3.465.0","@aws-sdk/credential-provider-node":"3.465.0","@aws-sdk/middleware-bucket-endpoint":"3.465.0","@aws-sdk/middleware-expect-continue":"3.465.0","@aws-sdk/middleware-flexible-checksums":"3.465.0","@aws-sdk/middleware-host-header":"3.465.0","@aws-sdk/middleware-location-constraint":"3.465.0","@aws-sdk/middleware-logger":"3.465.0","@aws-sdk/middleware-recursion-detection":"3.465.0","@aws-sdk/middleware-sdk-s3":"3.465.0","@aws-sdk/middleware-signing":"3.465.0","@aws-sdk/middleware-ssec":"3.465.0","@aws-sdk/middleware-user-agent":"3.465.0","@aws-sdk/region-config-resolver":"3.465.0","@aws-sdk/signature-v4-multi-region":"3.465.0","@aws-sdk/types":"3.465.0","@aws-sdk/util-endpoints":"3.465.0","@aws-sdk/util-user-agent-browser":"3.465.0","@aws-sdk/util-user-agent-node":"3.465.0","@aws-sdk/xml-builder":"3.465.0","@smithy/config-resolver":"^2.0.18","@smithy/eventstream-serde-browser":"^2.0.13","@smithy/eventstream-serde-config-resolver":"^2.0.13","@smithy/eventstream-serde-node":"^2.0.13","@smithy/fetch-http-handler":"^2.2.6","@smithy/hash-blob-browser":"^2.0.14","@smithy/hash-node":"^2.0.15","@smithy/hash-stream-node":"^2.0.15","@smithy/invalid-dependency":"^2.0.13","@smithy/md5-js":"^2.0.15","@smithy/middleware-content-length":"^2.0.15","@smithy/middleware-endpoint":"^2.2.0","@smithy/middleware-retry":"^2.0.20","@smithy/middleware-serde":"^2.0.13","@smithy/middleware-stack":"^2.0.7","@smithy/node-config-provider":"^2.1.5","@smithy/node-http-handler":"^2.1.9","@smithy/protocol-http":"^3.0.9","@smithy/smithy-client":"^2.1.15","@smithy/types":"^2.5.0","@smithy/url-parser":"^2.0.13","@smithy/util-base64":"^2.0.1","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.19","@smithy/util-defaults-mode-node":"^2.0.25","@smithy/util-endpoints":"^1.0.4","@smithy/util-retry":"^2.0.6","@smithy/util-stream":"^2.0.20","@smithy/util-utf8":"^2.0.2","@smithy/util-waiter":"^2.0.13","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},Ry={"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},Py={node:">=14.0.0"},Ty={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},Oy=["dist-*/**"],By={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},ky="Apache-2.0",Iy={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},My="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",Ny={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},Dy={name:by,description:wy,version:Sy,scripts:xy,main:_y,types:Ey,module:Ay,sideEffects:vy,dependencies:Cy,devDependencies:Ry,engines:Py,typesVersions:Ty,files:Oy,author:By,license:ky,browser:Iy,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:My,repository:Ny};var Mc={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var os=function(e,t){return os=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},os(e,t)};function $y(e,t){os(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var as=function(){return as=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},as.apply(this,arguments)};function Fy(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Uy(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Ly(e,t){return function(r,n){t(r,n,e)}}function jy(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Hy(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function zy(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function qy(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Gy(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function cs(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Ky(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Nc(arguments[t]));return e}function Vy(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Wt(e){return this instanceof Wt?(this.v=e,this):new Wt(e)}function Wy(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(g){return new Promise(function(y,_){s.push([f,g,y,_])>1||a(f,g)})})}function a(f,g){try{u(n[f](g))}catch(y){h(s[0][3],y)}}function u(f){f.value instanceof Wt?Promise.resolve(f.value.v).then(c,l):h(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Xy(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Wt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Zy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof cs=="function"?cs(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Yy(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Qy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Jy(e){return e&&e.__esModule?e:{default:e}}function em(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function tm(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const rm=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return as},__asyncDelegator:Xy,__asyncGenerator:Wy,__asyncValues:Zy,__await:Wt,__awaiter:Hy,__classPrivateFieldGet:em,__classPrivateFieldSet:tm,__createBinding:qy,__decorate:Uy,__exportStar:Gy,__extends:$y,__generator:zy,__importDefault:Jy,__importStar:Qy,__makeTemplateObject:Yy,__metadata:jy,__param:Ly,__read:Nc,__rest:Fy,__spread:Ky,__spreadArrays:Vy,__values:cs},Symbol.toStringTag,{value:"Module"})),nm=De(rm);var vt={},Ct={},Rt={},co;function Dc(){if(co)return Rt;co=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return Rt.isEmptyData=e,Rt}var un={},uo;function $c(){return uo||(uo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_1=e.SHA_1_HMAC_ALGO=e.SHA_1_HASH=void 0,e.SHA_1_HASH={name:"SHA-1"},e.SHA_1_HMAC_ALGO={name:"HMAC",hash:e.SHA_1_HASH},e.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])}(un)),un}const sm={};function im(){return typeof window<"u"?window:typeof self<"u"?self:sm}const om=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:im},Symbol.toStringTag,{value:"Module"})),mt=De(om);var lo;function Fc(){if(lo)return Ct;lo=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Sha1=void 0;var e=Dc(),t=$c(),r=zr,n=mt,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(l){return l.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(u)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,l){u.onerror=function(){l(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),l(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_1_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-1"))},a}();Ct.Sha1=i;function s(a){return new Promise(function(u,c){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_1_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&u(l.result),c(new Error("ImportKey completed without importing key."))},l.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return Ct}var Pt={},fo;function Uc(){if(fo)return Pt;fo=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.Sha1=void 0;var e=zr,t=Dc(),r=$c(),n=mt,i=function(){function o(a){this.toHash=new Uint8Array(0),a!==void 0&&(this.key=new Promise(function(u,c){(0,n.locateWindow)().crypto.subtle.importKey("raw",s(a),r.SHA_1_HMAC_ALGO,!1,["sign"]).then(u,c)}),this.key.catch(function(){}))}return o.prototype.update=function(a){if(!(0,t.isEmptyData)(a)){var u=s(a),c=new Uint8Array(this.toHash.byteLength+u.byteLength);c.set(this.toHash,0),c.set(u,this.toHash.byteLength),this.toHash=c}},o.prototype.digest=function(){var a=this;return this.key?this.key.then(function(u){return(0,n.locateWindow)().crypto.subtle.sign(r.SHA_1_HMAC_ALGO,u,a.toHash).then(function(c){return new Uint8Array(c)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(r.SHA_1_HASH,a.toHash)}).then(function(u){return Promise.resolve(new Uint8Array(u))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();Pt.Sha1=i;function s(o){return typeof o=="string"?(0,e.fromUtf8)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}return Pt}var ln={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var us=function(e,t){return us=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},us(e,t)};function am(e,t){us(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ls=function(){return ls=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ls.apply(this,arguments)};function cm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function um(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function lm(e,t){return function(r,n){t(r,n,e)}}function fm(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function dm(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function hm(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function pm(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function gm(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function fs(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ym(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Lc(arguments[t]));return e}function mm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Xt(e){return this instanceof Xt?(this.v=e,this):new Xt(e)}function bm(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(g){return new Promise(function(y,_){s.push([f,g,y,_])>1||a(f,g)})})}function a(f,g){try{u(n[f](g))}catch(y){h(s[0][3],y)}}function u(f){f.value instanceof Xt?Promise.resolve(f.value.v).then(c,l):h(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function wm(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Xt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Sm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fs=="function"?fs(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function xm(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _m(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Em(e){return e&&e.__esModule?e:{default:e}}function Am(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function vm(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Cm=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ls},__asyncDelegator:wm,__asyncGenerator:bm,__asyncValues:Sm,__await:Xt,__awaiter:dm,__classPrivateFieldGet:Am,__classPrivateFieldSet:vm,__createBinding:pm,__decorate:um,__exportStar:gm,__extends:am,__generator:hm,__importDefault:Em,__importStar:_m,__makeTemplateObject:xm,__metadata:fm,__param:lm,__read:Lc,__rest:cm,__spread:ym,__spreadArrays:mm,__values:fs},Symbol.toStringTag,{value:"Module"})),jc=De(Cm);var Ee={},ho;function Rm(){if(ho)return Ee;ho=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.supportsZeroByteGCM=Ee.supportsSubtleCrypto=Ee.supportsSecureRandom=Ee.supportsWebCrypto=void 0;var e=jc,t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return i(a)}return!1}Ee.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}Ee.supportsSecureRandom=n;function i(o){return o&&t.every(function(a){return typeof o[a]=="function"})}Ee.supportsSubtleCrypto=i;function s(o){return e.__awaiter(this,void 0,void 0,function(){var a,u;return e.__generator(this,function(c){switch(c.label){case 0:if(!i(o))return[2,!1];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=c.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return u=c.sent(),[2,u.byteLength===16];case 4:return c.sent(),[2,!1];case 5:return[2]}})})}return Ee.supportsZeroByteGCM=s,Ee}var po;function Hc(){return po||(po=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=jc;t.__exportStar(Rm(),e)}(ln)),ln}var fn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ds=function(e,t){return ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ds(e,t)};function Pm(e,t){ds(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var hs=function(){return hs=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},hs.apply(this,arguments)};function Tm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Om(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Bm(e,t){return function(r,n){t(r,n,e)}}function km(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Im(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Mm(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Nm(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Dm(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function ps(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function $m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zc(arguments[t]));return e}function Fm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Zt(e){return this instanceof Zt?(this.v=e,this):new Zt(e)}function Um(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(g){return new Promise(function(y,_){s.push([f,g,y,_])>1||a(f,g)})})}function a(f,g){try{u(n[f](g))}catch(y){h(s[0][3],y)}}function u(f){f.value instanceof Zt?Promise.resolve(f.value.v).then(c,l):h(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Lm(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Zt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function jm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ps=="function"?ps(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Hm(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function zm(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function qm(e){return e&&e.__esModule?e:{default:e}}function Gm(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Km(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Vm=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return hs},__asyncDelegator:Lm,__asyncGenerator:Um,__asyncValues:jm,__await:Zt,__awaiter:Im,__classPrivateFieldGet:Gm,__classPrivateFieldSet:Km,__createBinding:Nm,__decorate:Om,__exportStar:Dm,__extends:Pm,__generator:Mm,__importDefault:qm,__importStar:zm,__makeTemplateObject:Hm,__metadata:km,__param:Bm,__read:zc,__rest:Tm,__spread:$m,__spreadArrays:Fm,__values:ps},Symbol.toStringTag,{value:"Module"})),Wm=De(Vm);var dn={},go;function Xm(){return go||(go=1,Object.defineProperty(dn,"__esModule",{value:!0})),dn}var hn={},yo;function Zm(){return yo||(yo=1,Object.defineProperty(hn,"__esModule",{value:!0})),hn}var pn={},mo;function Ym(){return mo||(mo=1,Object.defineProperty(pn,"__esModule",{value:!0})),pn}var gn={},bo;function Qm(){return bo||(bo=1,Object.defineProperty(gn,"__esModule",{value:!0})),gn}var Tt={},wo;function Jm(){if(wo)return Tt;wo=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(t(n)&&n.msCrypto.subtle!==void 0){var i=n.msCrypto,s=i.getRandomValues,o=i.subtle;return e.map(function(a){return o[a]}).concat(s).every(function(a){return typeof a=="function"})}return!1}return Tt.isMsWindow=r,Tt}var So;function qc(){return So||(So=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Wm;t.__exportStar(Xm(),e),t.__exportStar(Zm(),e),t.__exportStar(Ym(),e),t.__exportStar(Qm(),e),t.__exportStar(Jm(),e)}(fn)),fn}var xo;function e0(){if(xo)return vt;xo=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.Sha1=void 0;var e=Fc(),t=Uc(),r=Hc(),n=qc(),i=mt,s=Xe(),o=function(){function a(u){if((0,r.supportsWebCrypto)((0,i.locateWindow)()))this.hash=new t.Sha1(u);else if((0,n.isMsWindow)((0,i.locateWindow)()))this.hash=new e.Sha1(u);else throw new Error("SHA1 not supported")}return a.prototype.update=function(u,c){this.hash.update((0,s.convertToBuffer)(u))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}();return vt.Sha1=o,vt}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha1=e.Ie11Sha1=void 0;var t=nm;t.__exportStar(e0(),e);var r=Fc();Object.defineProperty(e,"Ie11Sha1",{enumerable:!0,get:function(){return r.Sha1}});var n=Uc();Object.defineProperty(e,"WebCryptoSha1",{enumerable:!0,get:function(){return n.Sha1}})})(Mc);var Gc={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gs=function(e,t){return gs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},gs(e,t)};function t0(e,t){gs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ys=function(){return ys=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ys.apply(this,arguments)};function r0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function n0(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function s0(e,t){return function(r,n){t(r,n,e)}}function i0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function o0(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function a0(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function c0(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function u0(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function ms(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function l0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kc(arguments[t]));return e}function f0(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Yt(e){return this instanceof Yt?(this.v=e,this):new Yt(e)}function d0(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(g){return new Promise(function(y,_){s.push([f,g,y,_])>1||a(f,g)})})}function a(f,g){try{u(n[f](g))}catch(y){h(s[0][3],y)}}function u(f){f.value instanceof Yt?Promise.resolve(f.value.v).then(c,l):h(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function h0(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Yt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function p0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ms=="function"?ms(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function g0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function y0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function m0(e){return e&&e.__esModule?e:{default:e}}function b0(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function w0(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const S0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ys},__asyncDelegator:h0,__asyncGenerator:d0,__asyncValues:p0,__await:Yt,__awaiter:o0,__classPrivateFieldGet:b0,__classPrivateFieldSet:w0,__createBinding:c0,__decorate:n0,__exportStar:u0,__extends:t0,__generator:a0,__importDefault:m0,__importStar:y0,__makeTemplateObject:g0,__metadata:i0,__param:s0,__read:Kc,__rest:r0,__spread:l0,__spreadArrays:f0,__values:ms},Symbol.toStringTag,{value:"Module"})),x0=De(S0);var Ot={},Bt={},kt={},_o;function _0(){if(_o)return kt;_o=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return kt.isEmptyData=e,kt}var yn={},Eo;function Vc(){return Eo||(Eo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(yn)),yn}var Ao;function Wc(){if(Ao)return Bt;Ao=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.Sha256=void 0;var e=_0(),t=Vc(),r=zr,n=mt,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(l){return l.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(u)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,l){u.onerror=function(){l(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),l(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_256_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();Bt.Sha256=i;function s(a){return new Promise(function(u,c){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_256_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&u(l.result),c(new Error("ImportKey completed without importing key."))},l.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return Bt}var It={},vo;function Xc(){if(vo)return It;vo=1,Object.defineProperty(It,"__esModule",{value:!0}),It.Sha256=void 0;var e=Xe(),t=Vc(),r=mt,n=function(){function i(s){this.toHash=new Uint8Array(0),this.secret=s,this.reset()}return i.prototype.update=function(s){if(!(0,e.isEmptyData)(s)){var o=(0,e.convertToBuffer)(s),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},i.prototype.digest=function(){var s=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(t.SHA_256_HMAC_ALGO,o,s.toHash).then(function(a){return new Uint8Array(a)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(t.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(t.SHA_256_HASH,s.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},i.prototype.reset=function(){var s=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,e.convertToBuffer)(s.secret),t.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},i}();return It.Sha256=n,It}var mn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bs=function(e,t){return bs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bs(e,t)};function E0(e,t){bs(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ws=function(){return ws=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ws.apply(this,arguments)};function A0(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function v0(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function C0(e,t){return function(r,n){t(r,n,e)}}function R0(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function P0(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function T0(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function O0(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function B0(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ss(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function k0(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zc(arguments[t]));return e}function I0(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Qt(e){return this instanceof Qt?(this.v=e,this):new Qt(e)}function M0(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(g){return new Promise(function(y,_){s.push([f,g,y,_])>1||a(f,g)})})}function a(f,g){try{u(n[f](g))}catch(y){h(s[0][3],y)}}function u(f){f.value instanceof Qt?Promise.resolve(f.value.v).then(c,l):h(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function N0(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Qt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function D0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ss=="function"?Ss(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function $0(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function F0(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function U0(e){return e&&e.__esModule?e:{default:e}}function L0(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function j0(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const H0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ws},__asyncDelegator:N0,__asyncGenerator:M0,__asyncValues:D0,__await:Qt,__awaiter:P0,__classPrivateFieldGet:L0,__classPrivateFieldSet:j0,__createBinding:O0,__decorate:v0,__exportStar:B0,__extends:E0,__generator:T0,__importDefault:U0,__importStar:F0,__makeTemplateObject:$0,__metadata:R0,__param:C0,__read:Zc,__rest:A0,__spread:k0,__spreadArrays:I0,__values:Ss},Symbol.toStringTag,{value:"Module"})),Yc=De(H0);var Mt={},be={},Co;function Qc(){return Co||(Co=1,Object.defineProperty(be,"__esModule",{value:!0}),be.MAX_HASHABLE_LENGTH=be.INIT=be.KEY=be.DIGEST_LENGTH=be.BLOCK_SIZE=void 0,be.BLOCK_SIZE=64,be.DIGEST_LENGTH=32,be.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),be.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],be.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),be}var Nt={},Ro;function z0(){if(Ro)return Nt;Ro=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.RawSha256=void 0;var e=Qc(),t=function(){function r(){this.state=Int32Array.from(e.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>e.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[i++],s--,this.bufferLength===e.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,i=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(i.setUint8(this.bufferLength++,128),s%e.BLOCK_SIZE>=e.BLOCK_SIZE-8){for(var o=this.bufferLength;o<e.BLOCK_SIZE;o++)i.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<e.BLOCK_SIZE-8;o++)i.setUint8(o,0);i.setUint32(e.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),i.setUint32(e.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(e.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,i=n.buffer,s=n.state,o=s[0],a=s[1],u=s[2],c=s[3],l=s[4],h=s[5],f=s[6],g=s[7],y=0;y<e.BLOCK_SIZE;y++){if(y<16)this.temp[y]=(i[y*4]&255)<<24|(i[y*4+1]&255)<<16|(i[y*4+2]&255)<<8|i[y*4+3]&255;else{var _=this.temp[y-2],R=(_>>>17|_<<15)^(_>>>19|_<<13)^_>>>10;_=this.temp[y-15];var P=(_>>>7|_<<25)^(_>>>18|_<<14)^_>>>3;this.temp[y]=(R+this.temp[y-7]|0)+(P+this.temp[y-16]|0)}var N=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&h^~l&f)|0)+(g+(e.KEY[y]+this.temp[y]|0)|0)|0,U=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0;g=f,f=h,h=l,l=c+N|0,c=u,u=a,a=o,o=N+U|0}s[0]+=o,s[1]+=a,s[2]+=u,s[3]+=c,s[4]+=l,s[5]+=h,s[6]+=f,s[7]+=g},r}();return Nt.RawSha256=t,Nt}var Po;function q0(){if(Po)return Mt;Po=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.Sha256=void 0;var e=Yc,t=Qc(),r=z0(),n=Xe(),i=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(u){this.error=u}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=s(this.secret),u=new Uint8Array(t.BLOCK_SIZE);u.set(a);for(var c=0;c<t.BLOCK_SIZE;c++)a[c]^=54,u[c]^=92;this.hash.update(a),this.outer.update(u);for(var c=0;c<a.byteLength;c++)a[c]=0}},o}();Mt.Sha256=i;function s(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>t.BLOCK_SIZE){var u=new r.RawSha256;u.update(a),a=u.digest()}var c=new Uint8Array(t.BLOCK_SIZE);return c.set(a),c}return Mt}var To;function G0(){return To||(To=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Yc;t.__exportStar(q0(),e)}(mn)),mn}var Oo;function K0(){if(Oo)return Ot;Oo=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.Sha256=void 0;var e=Wc(),t=Xc(),r=G0(),n=Hc(),i=qc(),s=mt,o=Xe(),a=function(){function u(c){(0,n.supportsWebCrypto)((0,s.locateWindow)())?this.hash=new t.Sha256(c):(0,i.isMsWindow)((0,s.locateWindow)())?this.hash=new e.Sha256(c):this.hash=new r.Sha256(c)}return u.prototype.update=function(c,l){this.hash.update((0,o.convertToBuffer)(c))},u.prototype.digest=function(){return this.hash.digest()},u.prototype.reset=function(){this.hash.reset()},u}();return Ot.Sha256=a,Ot}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=x0;t.__exportStar(K0(),e);var r=Wc();Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=Xc();Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(Gc);const V0={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Jc={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},H={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},fe={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},He={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class w{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=w.getVersionPrecision(t),s=w.getVersionPrecision(r);let o=Math.max(i,s),a=0;const u=w.map([t,r],c=>{const l=o-w.getVersionPrecision(c),h=c+new Array(l+1).join(".0");return w.map(h.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const s=t[n];if(r(s,n))return s}}static assign(t,...r){const n=t;let i,s;if(Object.assign)return Object.assign(t,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{n[u]=o[u]})}return t}static getBrowserAlias(t){return V0[t]}static getBrowserTypeByAlias(t){return Jc[t]||""}}const D=/version\/(\d+(\.?_?\d+)+)/i,W0=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=w.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=w.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=w.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=w.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=w.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=w.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=w.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=w.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=w.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=w.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=w.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=w.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=w.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=w.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=w.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=w.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=w.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=w.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=w.getFirstMatch(D,e)||w.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=w.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=w.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=w.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=w.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=w.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=w.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=w.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=w.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=w.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=w.getFirstMatch(D,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:w.getFirstMatch(i,e),version:w.getSecondMatch(i,e)}}}],X0=[{test:[/Roku\/DVP/],describe(e){const t=w.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:fe.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=w.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:fe.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=w.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=w.getWindowsVersionName(t);return{name:fe.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:fe.iOS},r=w.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=w.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=w.getMacOSVersionName(t),n={name:fe.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=w.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:fe.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=w.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=w.getAndroidVersionName(t),n={name:fe.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=w.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:fe.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=w.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||w.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||w.getFirstMatch(/\bbb(\d+)/i,e);return{name:fe.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=w.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:fe.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=w.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:fe.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:fe.Linux}}},{test:[/CrOS/],describe(){return{name:fe.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=w.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:fe.PlayStation4,version:t}}}],Z0=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=w.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:H.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:H.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:H.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:H.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:H.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:H.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:H.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=w.getFirstMatch(/(ipod|iphone)/i,e);return{type:H.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:H.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:H.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:H.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:H.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:H.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:H.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:H.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:H.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:H.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:H.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:H.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:H.tv}}}],Y0=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:He.Blink};const r=w.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:He.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:He.Trident},r=w.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:He.Presto},r=w.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:He.Gecko},r=w.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:He.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:He.WebKit},r=w.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Bo{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=w.find(W0,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=w.find(X0,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=w.find(Z0,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=w.find(Y0,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return w.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let s=0;if(Object.keys(t).forEach(a=>{const u=t[a];typeof u=="string"?(i[a]=u,s+=1):typeof u=="object"&&(r[a]=u,n+=1)}),n>0){const a=Object.keys(r),u=w.find(a,l=>this.isOS(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}const c=w.find(a,l=>this.isPlatform(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}}if(s>0){const a=Object.keys(i),u=w.find(a,c=>this.isBrowser(c,!0));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const s=w.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(w.compareVersions(s,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class eu{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Bo(t,r)}static parse(t){return new Bo(t).getResult()}static get BROWSER_MAP(){return Jc}static get ENGINE_MAP(){return He}static get OS_MAP(){return fe}static get PLATFORMS_MAP(){return H}}const Q0=({serviceId:e,clientVersion:t})=>async()=>{const r=typeof window<"u"&&window?.navigator?.userAgent?eu.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n};function J0(e){let t=0,r=0,n=null,i=null;const s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:u,done:c}=await a.next();if(c){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}const l=u.length;let h=0;for(;h<l;){if(!n){const g=l-h;i||(i=new Uint8Array(4));const y=Math.min(4-r,g);if(i.set(u.slice(h,h+y),r),r+=y,h+=y,r<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}const f=Math.min(t-r,l-h);n.set(u.slice(h,h+f),r),r+=f,h+=f,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function eb(e,t){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const i=new Error(r.headers[":error-message"].value||"UnknownError");throw i.name=r.headers[":error-code"].value,i}else if(n==="exception"){const i=r.headers[":exception-type"].value,s={[i]:r},o=await e(s);if(o.$unknown){const a=new Error(t(r.body));throw a.name=i,a}throw o[i]}else if(n==="event"){const i={[r.headers[":event-type"].value]:r},s=await e(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let tb=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new Qf(t,r),this.utfEncoder=t}deserialize(t,r){const n=J0(t);return new td({messageStream:new Jf({inputStream:n,decoder:this.eventStreamCodec}),deserializer:eb(r,this.utfEncoder)})}serialize(t,r){return new ed({messageStream:new rd({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const rb=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}}),nb=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:i}=await t.next();if(n)return r.close();r.enqueue(i)}})};class sb{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new tb({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){const n=ib(t)?rb(t):t;return this.universalMarshaller.deserialize(n,r)}serialize(t,r){const n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?nb(n):n}}const ib=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,ob=e=>new sb(e);function ab(e,t,r=1024*1024){return new Promise((n,i)=>{const s=new FileReader;s.addEventListener("error",i),s.addEventListener("abort",i);const o=e.size;let a=0;function u(){if(a>=o){n();return}s.readAsArrayBuffer(e.slice(a,Math.min(o,a+r)))}s.addEventListener("load",c=>{const l=c.target.result;t(new Uint8Array(l)),a+=l.byteLength,u()}),u()})}const cb=async function(t,r){const n=new t;return await ab(r,i=>{n.update(i)}),n.digest()},ub=e=>()=>Promise.reject(e),Fe=64,lb=16,fb=[1732584193,4023233417,2562383102,271733878];class db{constructor(){this.reset()}update(t){if(hb(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=pb(t);let n=0,{byteLength:i}=r;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===Fe&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:i}=this,s=i*8;if(r.setUint8(this.bufferLength++,128),n%Fe>=Fe-8){for(let o=this.bufferLength;o<Fe;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<Fe-8;o++)r.setUint8(o,0);r.setUint32(Fe-8,s>>>0,!0),r.setUint32(Fe-4,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(lb));for(let r=0;r<4;r++)t.setUint32(r*4,this.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:r}=this;let n=r[0],i=r[1],s=r[2],o=r[3];n=oe(n,i,s,o,t.getUint32(0,!0),7,3614090360),o=oe(o,n,i,s,t.getUint32(4,!0),12,3905402710),s=oe(s,o,n,i,t.getUint32(8,!0),17,606105819),i=oe(i,s,o,n,t.getUint32(12,!0),22,3250441966),n=oe(n,i,s,o,t.getUint32(16,!0),7,4118548399),o=oe(o,n,i,s,t.getUint32(20,!0),12,1200080426),s=oe(s,o,n,i,t.getUint32(24,!0),17,2821735955),i=oe(i,s,o,n,t.getUint32(28,!0),22,4249261313),n=oe(n,i,s,o,t.getUint32(32,!0),7,1770035416),o=oe(o,n,i,s,t.getUint32(36,!0),12,2336552879),s=oe(s,o,n,i,t.getUint32(40,!0),17,4294925233),i=oe(i,s,o,n,t.getUint32(44,!0),22,2304563134),n=oe(n,i,s,o,t.getUint32(48,!0),7,1804603682),o=oe(o,n,i,s,t.getUint32(52,!0),12,4254626195),s=oe(s,o,n,i,t.getUint32(56,!0),17,2792965006),i=oe(i,s,o,n,t.getUint32(60,!0),22,1236535329),n=ae(n,i,s,o,t.getUint32(4,!0),5,4129170786),o=ae(o,n,i,s,t.getUint32(24,!0),9,3225465664),s=ae(s,o,n,i,t.getUint32(44,!0),14,643717713),i=ae(i,s,o,n,t.getUint32(0,!0),20,3921069994),n=ae(n,i,s,o,t.getUint32(20,!0),5,3593408605),o=ae(o,n,i,s,t.getUint32(40,!0),9,38016083),s=ae(s,o,n,i,t.getUint32(60,!0),14,3634488961),i=ae(i,s,o,n,t.getUint32(16,!0),20,3889429448),n=ae(n,i,s,o,t.getUint32(36,!0),5,568446438),o=ae(o,n,i,s,t.getUint32(56,!0),9,3275163606),s=ae(s,o,n,i,t.getUint32(12,!0),14,4107603335),i=ae(i,s,o,n,t.getUint32(32,!0),20,1163531501),n=ae(n,i,s,o,t.getUint32(52,!0),5,2850285829),o=ae(o,n,i,s,t.getUint32(8,!0),9,4243563512),s=ae(s,o,n,i,t.getUint32(28,!0),14,1735328473),i=ae(i,s,o,n,t.getUint32(48,!0),20,2368359562),n=ce(n,i,s,o,t.getUint32(20,!0),4,4294588738),o=ce(o,n,i,s,t.getUint32(32,!0),11,2272392833),s=ce(s,o,n,i,t.getUint32(44,!0),16,1839030562),i=ce(i,s,o,n,t.getUint32(56,!0),23,4259657740),n=ce(n,i,s,o,t.getUint32(4,!0),4,2763975236),o=ce(o,n,i,s,t.getUint32(16,!0),11,1272893353),s=ce(s,o,n,i,t.getUint32(28,!0),16,4139469664),i=ce(i,s,o,n,t.getUint32(40,!0),23,3200236656),n=ce(n,i,s,o,t.getUint32(52,!0),4,681279174),o=ce(o,n,i,s,t.getUint32(0,!0),11,3936430074),s=ce(s,o,n,i,t.getUint32(12,!0),16,3572445317),i=ce(i,s,o,n,t.getUint32(24,!0),23,76029189),n=ce(n,i,s,o,t.getUint32(36,!0),4,3654602809),o=ce(o,n,i,s,t.getUint32(48,!0),11,3873151461),s=ce(s,o,n,i,t.getUint32(60,!0),16,530742520),i=ce(i,s,o,n,t.getUint32(8,!0),23,3299628645),n=ue(n,i,s,o,t.getUint32(0,!0),6,4096336452),o=ue(o,n,i,s,t.getUint32(28,!0),10,1126891415),s=ue(s,o,n,i,t.getUint32(56,!0),15,2878612391),i=ue(i,s,o,n,t.getUint32(20,!0),21,4237533241),n=ue(n,i,s,o,t.getUint32(48,!0),6,1700485571),o=ue(o,n,i,s,t.getUint32(12,!0),10,2399980690),s=ue(s,o,n,i,t.getUint32(40,!0),15,4293915773),i=ue(i,s,o,n,t.getUint32(4,!0),21,2240044497),n=ue(n,i,s,o,t.getUint32(32,!0),6,1873313359),o=ue(o,n,i,s,t.getUint32(60,!0),10,4264355552),s=ue(s,o,n,i,t.getUint32(24,!0),15,2734768916),i=ue(i,s,o,n,t.getUint32(52,!0),21,1309151649),n=ue(n,i,s,o,t.getUint32(16,!0),6,4149444226),o=ue(o,n,i,s,t.getUint32(44,!0),10,3174756917),s=ue(s,o,n,i,t.getUint32(8,!0),15,718787259),i=ue(i,s,o,n,t.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=i+r[1]&4294967295,r[2]=s+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(fb),this.buffer=new DataView(new ArrayBuffer(Fe)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Kr(e,t,r,n,i,s){return t=(t+e&4294967295)+(n+s&4294967295)&4294967295,(t<<i|t>>>32-i)+r&4294967295}function oe(e,t,r,n,i,s,o){return Kr(t&r|~t&n,e,t,i,s,o)}function ae(e,t,r,n,i,s,o){return Kr(t&n|r&~n,e,t,i,s,o)}function ce(e,t,r,n,i,s,o){return Kr(t^r^n,e,t,i,s,o)}function ue(e,t,r,n,i,s,o){return Kr(r^(t|~n),e,t,i,s,o)}function hb(e){return typeof e=="string"?e.length===0:e.byteLength===0}function pb(e){return typeof e=="string"?rr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const ko=typeof TextEncoder=="function"?new TextEncoder:null,gb=e=>{if(typeof e=="string"){if(ko)return ko.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},yb={CrtSignerV4:null};class mb{constructor(t){this.sigv4Signer=new Td(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async signWithCredentials(t,r,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(t,r,n)}return this.sigv4Signer.signWithCredentials(t,r,n)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}async presignWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=null;try{if(t=yb.CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const Vs="required",d="type",p="conditions",m="fn",b="argv",T="ref",j="assign",E="url",A="properties",tu="backend",Re="authSchemes",Pe="disableDoubleEncoding",Te="signingName",ke="signingRegion",v="headers",bb=!1,Ae=!0,_e="isSet",re="booleanEquals",C="error",Br="aws.partition",L="stringEquals",z="getAttr",me="name",Oe="substring",Io="bucketSuffix",ru="parseURL",Mo="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",x="endpoint",S="tree",nu="aws.isVirtualHostableS3Bucket",br="{url#scheme}://{Bucket}.{url#authority}{url#path}",Be="not",wr="{url#scheme}://{url#authority}{url#path}",su="hardwareType",iu="regionPrefix",No="bucketAliasSuffix",xs="outpostId",ot="isValidHostLabel",Ws="s3-outposts",pt="s3",ou="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",au="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Do="https://{Bucket}.s3.{partitionResult#dnsSuffix}",cu="aws.parseArn",uu="bucketArn",lu="arnType",kr="",Xs="s3-object-lambda",fu="accesspoint",Zs="accessPointName",$o="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Fo="mrapPartition",Uo="outpostType",Lo="arnPrefix",du="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",jo="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Ho="https://s3.{partitionResult#dnsSuffix}",Dt={[Vs]:!1,[d]:"String"},ct={[Vs]:!0,default:!1,[d]:"Boolean"},$t={[Vs]:!1,[d]:"Boolean"},ve={[m]:re,[b]:[{[T]:"Accelerate"},!0]},F={[m]:re,[b]:[{[T]:"UseFIPS"},!0]},$={[m]:re,[b]:[{[T]:"UseDualStack"},!0]},G={[m]:_e,[b]:[{[T]:"Endpoint"}]},hu={[m]:Br,[b]:[{[T]:"Region"}],[j]:"partitionResult"},zo={[m]:L,[b]:[{[m]:z,[b]:[{[T]:"partitionResult"},me]},"aws-cn"]},Ir={[m]:_e,[b]:[{[T]:"Bucket"}]},pe={[T]:"Bucket"},de={[m]:ru,[b]:[{[T]:"Endpoint"}],[j]:"url"},Sr={[m]:re,[b]:[{[m]:z,[b]:[{[T]:"url"},"isIp"]},!0]},pu={[T]:"url"},gu={[m]:"uriEncode",[b]:[pe],[j]:"uri_encoded_bucket"},Ie={[tu]:"S3Express",[Re]:[{[Pe]:!0,[me]:"sigv4",[Te]:"s3express",[ke]:"{Region}"}]},O={},yu={[m]:nu,[b]:[pe,!1]},bn={[C]:"S3Express bucket name is not a valid virtual hostable name.",[d]:C},Mr={[tu]:"S3Express",[Re]:[{[Pe]:!0,[me]:"sigv4-s3express",[Te]:"s3express",[ke]:"{Region}"}]},qo={[m]:_e,[b]:[{[T]:"UseS3ExpressControlEndpoint"}]},Go={[m]:re,[b]:[{[T]:"UseS3ExpressControlEndpoint"},!0]},B={[m]:Be,[b]:[G]},Ko={[C]:"Unrecognized S3Express bucket name format.",[d]:C},Vo={[m]:Be,[b]:[Ir]},Wo={[T]:su},Xo={[p]:[B],[C]:"Expected a endpoint to be specified but no endpoint was found",[d]:C},hr={[Re]:[{[Pe]:!0,[me]:"sigv4",[Te]:Ws,[ke]:"{Region}"}]},wn={[m]:re,[b]:[{[T]:"ForcePathStyle"},!1]},wb={[T]:"ForcePathStyle"},q={[m]:re,[b]:[{[T]:"Accelerate"},!1]},X={[m]:L,[b]:[{[T]:"Region"},"aws-global"]},Q={[Re]:[{[Pe]:!0,[me]:"sigv4",[Te]:pt,[ke]:"us-east-1"}]},M={[m]:Be,[b]:[X]},J={[m]:re,[b]:[{[T]:"UseGlobalEndpoint"},!0]},Zo={[E]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:{[Re]:[{[Pe]:!0,[me]:"sigv4",[Te]:pt,[ke]:"{Region}"}]},[v]:{}},W={[Re]:[{[Pe]:!0,[me]:"sigv4",[Te]:pt,[ke]:"{Region}"}]},ee={[m]:re,[b]:[{[T]:"UseGlobalEndpoint"},!1]},I={[m]:re,[b]:[{[T]:"UseDualStack"},!1]},Yo={[E]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[A]:W,[v]:{}},k={[m]:re,[b]:[{[T]:"UseFIPS"},!1]},Qo={[E]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[A]:W,[v]:{}},Jo={[E]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:W,[v]:{}},Sn={[m]:re,[b]:[{[m]:z,[b]:[pu,"isIp"]},!1]},xn={[E]:ou,[A]:W,[v]:{}},_s={[E]:br,[A]:W,[v]:{}},ea={[x]:_s,[d]:x},_n={[E]:au,[A]:W,[v]:{}},ta={[E]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[A]:W,[v]:{}},pr={[C]:"Invalid region: region was not a valid DNS name.",[d]:C},ye={[T]:uu},mu={[T]:lu},En={[m]:z,[b]:[ye,"service"]},Ys={[T]:Zs},ra={[p]:[$],[C]:"S3 Object Lambda does not support Dual-stack",[d]:C},na={[p]:[ve],[C]:"S3 Object Lambda does not support S3 Accelerate",[d]:C},sa={[p]:[{[m]:_e,[b]:[{[T]:"DisableAccessPoints"}]},{[m]:re,[b]:[{[T]:"DisableAccessPoints"},!0]}],[C]:"Access points are not supported for this operation",[d]:C},An={[p]:[{[m]:_e,[b]:[{[T]:"UseArnRegion"}]},{[m]:re,[b]:[{[T]:"UseArnRegion"},!1]},{[m]:Be,[b]:[{[m]:L,[b]:[{[m]:z,[b]:[ye,"region"]},"{Region}"]}]}],[C]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[d]:C},bu={[m]:z,[b]:[{[T]:"bucketPartition"},me]},wu={[m]:z,[b]:[ye,"accountId"]},vn={[Re]:[{[Pe]:!0,[me]:"sigv4",[Te]:Xs,[ke]:"{bucketArn#region}"}]},ia={[C]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[d]:C},Cn={[C]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[d]:C},Rn={[C]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[d]:C},Pn={[C]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[d]:C},oa={[C]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[d]:C},aa={[C]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[d]:C},Ft={[Re]:[{[Pe]:!0,[me]:"sigv4",[Te]:pt,[ke]:"{bucketArn#region}"}]},ca={[Re]:[{[Pe]:!0,[me]:"sigv4",[Te]:Ws,[ke]:"{bucketArn#region}"}]},ua={[m]:cu,[b]:[pe]},la={[E]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:W,[v]:{}},fa={[E]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:W,[v]:{}},da={[E]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:W,[v]:{}},Tn={[E]:du,[A]:W,[v]:{}},ha={[E]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:W,[v]:{}},pa={[T]:"UseObjectLambdaEndpoint"},On={[Re]:[{[Pe]:!0,[me]:"sigv4",[Te]:Xs,[ke]:"{Region}"}]},ga={[E]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:W,[v]:{}},ya={[E]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[A]:W,[v]:{}},ma={[E]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:W,[v]:{}},Bn={[E]:wr,[A]:W,[v]:{}},ba={[E]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[A]:W,[v]:{}},kn=[{[T]:"Region"}],Sb=[{[T]:"Endpoint"}],xb=[pe],In=[$],gr=[ve],et=[G,de],wa=[{[m]:_e,[b]:[{[T]:"DisableS3ExpressSessionAuth"}]},{[m]:re,[b]:[{[T]:"DisableS3ExpressSessionAuth"},!0]}],Sa=[Sr],Mn=[gu],Nn=[yu],ut=[F],xa=[{[m]:Oe,[b]:[pe,6,14,!0],[j]:"s3expressAvailabilityZoneId"},{[m]:Oe,[b]:[pe,14,16,!0],[j]:"s3expressAvailabilityZoneDelim"},{[m]:L,[b]:[{[T]:"s3expressAvailabilityZoneDelim"},"--"]}],_a=[{[p]:[F],[x]:{[E]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[A]:Ie,[v]:{}},[d]:x},{[x]:{[E]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[A]:Ie,[v]:{}},[d]:x}],Ea=[{[m]:Oe,[b]:[pe,6,15,!0],[j]:"s3expressAvailabilityZoneId"},{[m]:Oe,[b]:[pe,15,17,!0],[j]:"s3expressAvailabilityZoneDelim"},{[m]:L,[b]:[{[T]:"s3expressAvailabilityZoneDelim"},"--"]}],Aa=[{[p]:[F],[x]:{[E]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[A]:Mr,[v]:{}},[d]:x},{[x]:{[E]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[A]:Mr,[v]:{}},[d]:x}],_b=[Ir],va=[{[m]:ot,[b]:[{[T]:xs},!1]}],Ca=[{[m]:L,[b]:[{[T]:iu},"beta"]}],Ue=[hu],Ra=[{[m]:ot,[b]:[{[T]:"Region"},!1]}],Le=[{[m]:L,[b]:[{[T]:"Region"},"us-east-1"]}],Dn=[{[m]:L,[b]:[mu,fu]}],Pa=[{[m]:z,[b]:[ye,"resourceId[1]"],[j]:Zs},{[m]:Be,[b]:[{[m]:L,[b]:[Ys,kr]}]}],Eb=[ye,"resourceId[1]"],$n=[{[m]:Be,[b]:[{[m]:L,[b]:[{[m]:z,[b]:[ye,"region"]},kr]}]}],Ta=[{[m]:Be,[b]:[{[m]:_e,[b]:[{[m]:z,[b]:[ye,"resourceId[2]"]}]}]}],Ab=[ye,"resourceId[2]"],Fn=[{[m]:Br,[b]:[{[m]:z,[b]:[ye,"region"]}],[j]:"bucketPartition"}],Oa=[{[m]:L,[b]:[bu,{[m]:z,[b]:[{[T]:"partitionResult"},me]}]}],Un=[{[m]:ot,[b]:[{[m]:z,[b]:[ye,"region"]},!0]}],Ln=[{[m]:ot,[b]:[wu,!1]}],Ba=[{[m]:ot,[b]:[Ys,!1]}],ka=[{[m]:ot,[b]:[{[T]:"Region"},!0]}],vb={version:"1.0",parameters:{Bucket:Dt,Region:Dt,UseFIPS:ct,UseDualStack:ct,Endpoint:Dt,ForcePathStyle:ct,Accelerate:ct,UseGlobalEndpoint:ct,UseObjectLambdaEndpoint:$t,Key:Dt,Prefix:Dt,DisableAccessPoints:$t,DisableMultiRegionAccessPoints:ct,UseArnRegion:$t,UseS3ExpressControlEndpoint:$t,DisableS3ExpressSessionAuth:$t},rules:[{[p]:[{[m]:_e,[b]:kn}],rules:[{[p]:[ve,F],error:"Accelerate cannot be used with FIPS",[d]:C},{[p]:[$,G],error:"Cannot set dual-stack in combination with a custom endpoint.",[d]:C},{[p]:[G,F],error:"A custom endpoint cannot be combined with FIPS",[d]:C},{[p]:[G,ve],error:"A custom endpoint cannot be combined with S3 Accelerate",[d]:C},{[p]:[F,hu,zo],error:"Partition does not support FIPS",[d]:C},{[p]:[Ir,{[m]:Oe,[b]:[pe,0,6,Ae],[j]:Io},{[m]:L,[b]:[{[T]:Io},"--x-s3"]}],rules:[{[p]:In,error:"S3Express does not support Dual-stack.",[d]:C},{[p]:gr,error:"S3Express does not support S3 Accelerate.",[d]:C},{[p]:et,rules:[{[p]:wa,rules:[{[p]:Sa,rules:[{[p]:Mn,rules:[{endpoint:{[E]:Mo,[A]:Ie,[v]:O},[d]:x}],[d]:S}],[d]:S},{[p]:Nn,rules:[{endpoint:{[E]:br,[A]:Ie,[v]:O},[d]:x}],[d]:S},bn],[d]:S},{[p]:Sa,rules:[{[p]:Mn,rules:[{endpoint:{[E]:Mo,[A]:Mr,[v]:O},[d]:x}],[d]:S}],[d]:S},{[p]:Nn,rules:[{endpoint:{[E]:br,[A]:Mr,[v]:O},[d]:x}],[d]:S},bn],[d]:S},{[p]:[qo,Go],rules:[{[p]:[gu,B],rules:[{[p]:ut,endpoint:{[E]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[A]:Ie,[v]:O},[d]:x},{endpoint:{[E]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[A]:Ie,[v]:O},[d]:x}],[d]:S}],[d]:S},{[p]:Nn,rules:[{[p]:wa,rules:[{[p]:xa,rules:_a,[d]:S},{[p]:Ea,rules:_a,[d]:S},Ko],[d]:S},{[p]:xa,rules:Aa,[d]:S},{[p]:Ea,rules:Aa,[d]:S},Ko],[d]:S},bn],[d]:S},{[p]:[Vo,qo,Go],rules:[{[p]:et,endpoint:{[E]:wr,[A]:Ie,[v]:O},[d]:x},{[p]:ut,endpoint:{[E]:"https://s3express-control-fips.{Region}.amazonaws.com",[A]:Ie,[v]:O},[d]:x},{endpoint:{[E]:"https://s3express-control.{Region}.amazonaws.com",[A]:Ie,[v]:O},[d]:x}],[d]:S},{[p]:[Ir,{[m]:Oe,[b]:[pe,49,50,Ae],[j]:su},{[m]:Oe,[b]:[pe,8,12,Ae],[j]:iu},{[m]:Oe,[b]:[pe,0,7,Ae],[j]:No},{[m]:Oe,[b]:[pe,32,49,Ae],[j]:xs},{[m]:Br,[b]:kn,[j]:"regionPartition"},{[m]:L,[b]:[{[T]:No},"--op-s3"]}],rules:[{[p]:va,rules:[{[p]:[{[m]:L,[b]:[Wo,"e"]}],rules:[{[p]:Ca,rules:[Xo,{[p]:et,endpoint:{[E]:"https://{Bucket}.ec2.{url#authority}",[A]:hr,[v]:O},[d]:x}],[d]:S},{endpoint:{[E]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[A]:hr,[v]:O},[d]:x}],[d]:S},{[p]:[{[m]:L,[b]:[Wo,"o"]}],rules:[{[p]:Ca,rules:[Xo,{[p]:et,endpoint:{[E]:"https://{Bucket}.op-{outpostId}.{url#authority}",[A]:hr,[v]:O},[d]:x}],[d]:S},{endpoint:{[E]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[A]:hr,[v]:O},[d]:x}],[d]:S},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[d]:C}],[d]:S},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[d]:C}],[d]:S},{[p]:_b,rules:[{[p]:[G,{[m]:Be,[b]:[{[m]:_e,[b]:[{[m]:ru,[b]:Sb}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[d]:C},{[p]:[wn,yu],rules:[{[p]:Ue,rules:[{[p]:Ra,rules:[{[p]:[ve,zo],error:"S3 Accelerate cannot be used in this region",[d]:C},{[p]:[$,F,q,B,X],endpoint:{[E]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Q,[v]:O},[d]:x},{[p]:[$,F,q,B,M,J],rules:[{endpoint:Zo,[d]:x}],[d]:S},{[p]:[$,F,q,B,M,ee],endpoint:Zo,[d]:x},{[p]:[I,F,q,B,X],endpoint:{[E]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[A]:Q,[v]:O},[d]:x},{[p]:[I,F,q,B,M,J],rules:[{endpoint:Yo,[d]:x}],[d]:S},{[p]:[I,F,q,B,M,ee],endpoint:Yo,[d]:x},{[p]:[$,k,ve,B,X],endpoint:{[E]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Q,[v]:O},[d]:x},{[p]:[$,k,ve,B,M,J],rules:[{endpoint:Qo,[d]:x}],[d]:S},{[p]:[$,k,ve,B,M,ee],endpoint:Qo,[d]:x},{[p]:[$,k,q,B,X],endpoint:{[E]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Q,[v]:O},[d]:x},{[p]:[$,k,q,B,M,J],rules:[{endpoint:Jo,[d]:x}],[d]:S},{[p]:[$,k,q,B,M,ee],endpoint:Jo,[d]:x},{[p]:[I,k,q,G,de,Sr,X],endpoint:{[E]:ou,[A]:Q,[v]:O},[d]:x},{[p]:[I,k,q,G,de,Sn,X],endpoint:{[E]:br,[A]:Q,[v]:O},[d]:x},{[p]:[I,k,q,G,de,Sr,M,J],rules:[{[p]:Le,endpoint:xn,[d]:x},{endpoint:xn,[d]:x}],[d]:S},{[p]:[I,k,q,G,de,Sn,M,J],rules:[{[p]:Le,endpoint:_s,[d]:x},ea],[d]:S},{[p]:[I,k,q,G,de,Sr,M,ee],endpoint:xn,[d]:x},{[p]:[I,k,q,G,de,Sn,M,ee],endpoint:_s,[d]:x},{[p]:[I,k,ve,B,X],endpoint:{[E]:au,[A]:Q,[v]:O},[d]:x},{[p]:[I,k,ve,B,M,J],rules:[{[p]:Le,endpoint:_n,[d]:x},{endpoint:_n,[d]:x}],[d]:S},{[p]:[I,k,ve,B,M,ee],endpoint:_n,[d]:x},{[p]:[I,k,q,B,X],endpoint:{[E]:Do,[A]:Q,[v]:O},[d]:x},{[p]:[I,k,q,B,M,J],rules:[{[p]:Le,endpoint:{[E]:Do,[A]:W,[v]:O},[d]:x},{endpoint:ta,[d]:x}],[d]:S},{[p]:[I,k,q,B,M,ee],endpoint:ta,[d]:x}],[d]:S},pr],[d]:S}],[d]:S},{[p]:[G,de,{[m]:L,[b]:[{[m]:z,[b]:[pu,"scheme"]},"http"]},{[m]:nu,[b]:[pe,Ae]},wn,k,I,q],rules:[{[p]:Ue,rules:[{[p]:Ra,rules:[ea],[d]:S},pr],[d]:S}],[d]:S},{[p]:[wn,{[m]:cu,[b]:xb,[j]:uu}],rules:[{[p]:[{[m]:z,[b]:[ye,"resourceId[0]"],[j]:lu},{[m]:Be,[b]:[{[m]:L,[b]:[mu,kr]}]}],rules:[{[p]:[{[m]:L,[b]:[En,Xs]}],rules:[{[p]:Dn,rules:[{[p]:Pa,rules:[ra,na,{[p]:$n,rules:[sa,{[p]:Ta,rules:[An,{[p]:Fn,rules:[{[p]:Ue,rules:[{[p]:Oa,rules:[{[p]:Un,rules:[{[p]:[{[m]:L,[b]:[wu,kr]}],error:"Invalid ARN: Missing account id",[d]:C},{[p]:Ln,rules:[{[p]:Ba,rules:[{[p]:et,endpoint:{[E]:$o,[A]:vn,[v]:O},[d]:x},{[p]:ut,endpoint:{[E]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:vn,[v]:O},[d]:x},{endpoint:{[E]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:vn,[v]:O},[d]:x}],[d]:S},ia],[d]:S},Cn],[d]:S},Rn],[d]:S},Pn],[d]:S}],[d]:S}],[d]:S},oa],[d]:S},{error:"Invalid ARN: bucket ARN is missing a region",[d]:C}],[d]:S},aa],[d]:S},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[d]:C}],[d]:S},{[p]:Dn,rules:[{[p]:Pa,rules:[{[p]:$n,rules:[{[p]:Dn,rules:[{[p]:$n,rules:[sa,{[p]:Ta,rules:[An,{[p]:Fn,rules:[{[p]:Ue,rules:[{[p]:[{[m]:L,[b]:[bu,"{partitionResult#name}"]}],rules:[{[p]:Un,rules:[{[p]:[{[m]:L,[b]:[En,pt]}],rules:[{[p]:Ln,rules:[{[p]:Ba,rules:[{[p]:gr,error:"Access Points do not support S3 Accelerate",[d]:C},{[p]:[F,$],endpoint:{[E]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ft,[v]:O},[d]:x},{[p]:[F,I],endpoint:{[E]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ft,[v]:O},[d]:x},{[p]:[k,$],endpoint:{[E]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ft,[v]:O},[d]:x},{[p]:[k,I,G,de],endpoint:{[E]:$o,[A]:Ft,[v]:O},[d]:x},{[p]:[k,I],endpoint:{[E]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ft,[v]:O},[d]:x}],[d]:S},ia],[d]:S},Cn],[d]:S},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[d]:C}],[d]:S},Rn],[d]:S},Pn],[d]:S}],[d]:S}],[d]:S},oa],[d]:S}],[d]:S}],[d]:S},{[p]:[{[m]:ot,[b]:[Ys,Ae]}],rules:[{[p]:In,error:"S3 MRAP does not support dual-stack",[d]:C},{[p]:ut,error:"S3 MRAP does not support FIPS",[d]:C},{[p]:gr,error:"S3 MRAP does not support S3 Accelerate",[d]:C},{[p]:[{[m]:re,[b]:[{[T]:"DisableMultiRegionAccessPoints"},Ae]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[d]:C},{[p]:[{[m]:Br,[b]:kn,[j]:Fo}],rules:[{[p]:[{[m]:L,[b]:[{[m]:z,[b]:[{[T]:Fo},me]},{[m]:z,[b]:[ye,"partition"]}]}],rules:[{endpoint:{[E]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[A]:{[Re]:[{[Pe]:Ae,name:"sigv4a",[Te]:pt,signingRegionSet:["*"]}]},[v]:O},[d]:x}],[d]:S},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[d]:C}],[d]:S}],[d]:S},{error:"Invalid Access Point Name",[d]:C}],[d]:S},aa],[d]:S},{[p]:[{[m]:L,[b]:[En,Ws]}],rules:[{[p]:In,error:"S3 Outposts does not support Dual-stack",[d]:C},{[p]:ut,error:"S3 Outposts does not support FIPS",[d]:C},{[p]:gr,error:"S3 Outposts does not support S3 Accelerate",[d]:C},{[p]:[{[m]:_e,[b]:[{[m]:z,[b]:[ye,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[d]:C},{[p]:[{[m]:z,[b]:Eb,[j]:xs}],rules:[{[p]:va,rules:[An,{[p]:Fn,rules:[{[p]:Ue,rules:[{[p]:Oa,rules:[{[p]:Un,rules:[{[p]:Ln,rules:[{[p]:[{[m]:z,[b]:Ab,[j]:Uo}],rules:[{[p]:[{[m]:z,[b]:[ye,"resourceId[3]"],[j]:Zs}],rules:[{[p]:[{[m]:L,[b]:[{[T]:Uo},fu]}],rules:[{[p]:et,endpoint:{[E]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[A]:ca,[v]:O},[d]:x},{endpoint:{[E]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:ca,[v]:O},[d]:x}],[d]:S},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[d]:C}],[d]:S},{error:"Invalid ARN: expected an access point name",[d]:C}],[d]:S},{error:"Invalid ARN: Expected a 4-component resource",[d]:C}],[d]:S},Cn],[d]:S},Rn],[d]:S},Pn],[d]:S}],[d]:S}],[d]:S},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[d]:C}],[d]:S},{error:"Invalid ARN: The Outpost Id was not set",[d]:C}],[d]:S},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[d]:C}],[d]:S},{error:"Invalid ARN: No ARN type specified",[d]:C}],[d]:S},{[p]:[{[m]:Oe,[b]:[pe,0,4,bb],[j]:Lo},{[m]:L,[b]:[{[T]:Lo},"arn:"]},{[m]:Be,[b]:[{[m]:_e,[b]:[ua]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[d]:C},{[p]:[{[m]:re,[b]:[wb,Ae]},ua],error:"Path-style addressing cannot be used with ARN buckets",[d]:C},{[p]:Mn,rules:[{[p]:Ue,rules:[{[p]:[q],rules:[{[p]:[$,B,F,X],endpoint:{[E]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:Q,[v]:O},[d]:x},{[p]:[$,B,F,M,J],rules:[{endpoint:la,[d]:x}],[d]:S},{[p]:[$,B,F,M,ee],endpoint:la,[d]:x},{[p]:[I,B,F,X],endpoint:{[E]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:Q,[v]:O},[d]:x},{[p]:[I,B,F,M,J],rules:[{endpoint:fa,[d]:x}],[d]:S},{[p]:[I,B,F,M,ee],endpoint:fa,[d]:x},{[p]:[$,B,k,X],endpoint:{[E]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:Q,[v]:O},[d]:x},{[p]:[$,B,k,M,J],rules:[{endpoint:da,[d]:x}],[d]:S},{[p]:[$,B,k,M,ee],endpoint:da,[d]:x},{[p]:[I,G,de,k,X],endpoint:{[E]:du,[A]:Q,[v]:O},[d]:x},{[p]:[I,G,de,k,M,J],rules:[{[p]:Le,endpoint:Tn,[d]:x},{endpoint:Tn,[d]:x}],[d]:S},{[p]:[I,G,de,k,M,ee],endpoint:Tn,[d]:x},{[p]:[I,B,k,X],endpoint:{[E]:jo,[A]:Q,[v]:O},[d]:x},{[p]:[I,B,k,M,J],rules:[{[p]:Le,endpoint:{[E]:jo,[A]:W,[v]:O},[d]:x},{endpoint:ha,[d]:x}],[d]:S},{[p]:[I,B,k,M,ee],endpoint:ha,[d]:x}],[d]:S},{error:"Path-style addressing cannot be used with S3 Accelerate",[d]:C}],[d]:S}],[d]:S}],[d]:S},{[p]:[{[m]:_e,[b]:[pa]},{[m]:re,[b]:[pa,Ae]}],rules:[{[p]:Ue,rules:[{[p]:ka,rules:[ra,na,{[p]:et,endpoint:{[E]:wr,[A]:On,[v]:O},[d]:x},{[p]:ut,endpoint:{[E]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[A]:On,[v]:O},[d]:x},{endpoint:{[E]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[A]:On,[v]:O},[d]:x}],[d]:S},pr],[d]:S}],[d]:S},{[p]:[Vo],rules:[{[p]:Ue,rules:[{[p]:ka,rules:[{[p]:[F,$,B,X],endpoint:{[E]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Q,[v]:O},[d]:x},{[p]:[F,$,B,M,J],rules:[{endpoint:ga,[d]:x}],[d]:S},{[p]:[F,$,B,M,ee],endpoint:ga,[d]:x},{[p]:[F,I,B,X],endpoint:{[E]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[A]:Q,[v]:O},[d]:x},{[p]:[F,I,B,M,J],rules:[{endpoint:ya,[d]:x}],[d]:S},{[p]:[F,I,B,M,ee],endpoint:ya,[d]:x},{[p]:[k,$,B,X],endpoint:{[E]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Q,[v]:O},[d]:x},{[p]:[k,$,B,M,J],rules:[{endpoint:ma,[d]:x}],[d]:S},{[p]:[k,$,B,M,ee],endpoint:ma,[d]:x},{[p]:[k,I,G,de,X],endpoint:{[E]:wr,[A]:Q,[v]:O},[d]:x},{[p]:[k,I,G,de,M,J],rules:[{[p]:Le,endpoint:Bn,[d]:x},{endpoint:Bn,[d]:x}],[d]:S},{[p]:[k,I,G,de,M,ee],endpoint:Bn,[d]:x},{[p]:[k,I,B,X],endpoint:{[E]:Ho,[A]:Q,[v]:O},[d]:x},{[p]:[k,I,B,M,J],rules:[{[p]:Le,endpoint:{[E]:Ho,[A]:W,[v]:O},[d]:x},{endpoint:ba,[d]:x}],[d]:S},{[p]:[k,I,B,M,ee],endpoint:ba,[d]:x}],[d]:S},pr],[d]:S}],[d]:S}],[d]:S},{error:"A region must be set when sending requests to S3.",[d]:C}]},Cb=vb,Rb=(e,t={})=>lh(Cb,{endpointParams:e,logger:t.logger}),Pb=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??Ps,base64Encoder:e?.base64Encoder??Ts,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Rb,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??ll,logger:e?.logger??new Rs,sdkStreamMixin:e?.sdkStreamMixin??wl,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??mb,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??Tr,useArnRegion:e?.useArnRegion??!1,utf8Decoder:e?.utf8Decoder??rr,utf8Encoder:e?.utf8Encoder??Fr}),Tb=["in-region","cross-region","mobile","standard","legacy"],Ob=({defaultsMode:e}={})=>fc(async()=>{const t=typeof e=="function"?await e():e;switch(t?.toLowerCase()){case"auto":return Promise.resolve(Bb()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Tb.join(", ")}, got ${t}`)}}),Bb=()=>{const t=(typeof window<"u"&&window?.navigator?.userAgent?eu.parse(window.navigator.userAgent):void 0)?.platform?.type;return t==="tablet"||t==="mobile"},kb=e=>{const t=Ob(e),r=()=>t().then(Hl),n=Pb(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??gb,credentialDefaultProvider:e?.credentialDefaultProvider??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??Q0({serviceId:n.serviceId,clientVersion:Dy.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??ob,maxAttempts:e?.maxAttempts??Or,md5:e?.md5??db,region:e?.region??ub("Region is missing"),requestHandler:e?.requestHandler??new Os(r),retryMode:e?.retryMode??(async()=>(await r()).retryMode||Vh),sha1:e?.sha1??Mc.Sha1,sha256:e?.sha256??Gc.Sha256,streamCollector:e?.streamCollector??Ga,streamHasher:e?.streamHasher??cb,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(Eh)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(Ah))}},Ib=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},Mb=e=>({region:e.region()}),jn=e=>e,Nb=(e,t)=>{const r={...jn(Ib(e)),...jn(Vl(e)),...jn(zu(e))};return t.forEach(n=>n.configure(r)),{...e,...Mb(r),...Wl(r),...qu(r)}};class Db extends ol{constructor(...[t]){const r=kb(t||{}),n=my(r),i=vh(n),s=Kh(i),o=gp(s),a=o,u=Ud(a),c=Id(u,{session:[()=>this,Ks]}),l=Gd(c),h=Ch(l),f=Nb(h,t?.extensions||[]);super(f),this.config=f,this.middlewareStack.use(_p(this.config)),this.middlewareStack.use(Th(this.config)),this.middlewareStack.use(Yu(this.config)),this.middlewareStack.use(el(this.config)),this.middlewareStack.use(il(this.config)),this.middlewareStack.use(qd(this.config)),this.middlewareStack.use($d(this.config)),this.middlewareStack.use(Wu(this.config)),this.middlewareStack.use(cf(this.config)),this.middlewareStack.use(kd(this.config)),this.middlewareStack.use(_h(this.config))}destroy(){super.destroy()}}function $b(e){return t=>async r=>{let n={...r.input};const i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const s of i){const o=n[s.target];if(o){const a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):typeof o=="string"?e.utf8Decoder(o):new Uint8Array(o),u=e.base64Encoder(a),c=new e.md5;c.update(a),n={...n,[s.target]:u,[s.hash]:e.base64Encoder(await c.digest())}}}return t({...r,input:n})}}const Fb={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Su=e=>({applyToStack:t=>{t.add($b(e),Fb)}});class Qs extends nr{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(ir(r,this.serialize,this.deserialize)),this.middlewareStack.use(or(r,Qs.getEndpointParameterInstructions()));const i=t.concat(this.middlewareStack),{logger:s}=r,u={logger:s,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[it]:{service:"AmazonS3",operation:"DeleteObject"}},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),u)}serialize(t,r){return Kg(t,r)}deserialize(t,r){return Qg(t,r)}}var te;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(te||(te={}));var Ia;(function(e){e.HEADER="header",e.TRAILER="trailer"})(Ia||(Ia={}));const Ub=te.MD5,Lb=te.CRC32,Es=[te.CRC32,te.CRC32C,te.SHA1,te.SHA256],jb=[te.CRC32,te.CRC32C,te.SHA1,te.SHA256],Hb=(e,{requestChecksumRequired:t,requestAlgorithmMember:r},n)=>{const i=n?Lb:Ub;if(!r||!e[r])return t?i:void 0;const s=e[r];if(!Es.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${Es}.`);return s},Js=e=>e===te.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,zb=(e,t)=>{const r=e.toLowerCase();for(const n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1},ei=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!uc(e);var Hn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var As=function(e,t){return As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},As(e,t)};function qb(e,t){As(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var vs=function(){return vs=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vs.apply(this,arguments)};function Gb(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Kb(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Vb(e,t){return function(r,n){t(r,n,e)}}function Wb(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Xb(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Zb(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Yb(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Qb(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Cs(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xu(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Jb(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xu(arguments[t]));return e}function ew(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Jt(e){return this instanceof Jt?(this.v=e,this):new Jt(e)}function tw(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(g){return new Promise(function(y,_){s.push([f,g,y,_])>1||a(f,g)})})}function a(f,g){try{u(n[f](g))}catch(y){h(s[0][3],y)}}function u(f){f.value instanceof Jt?Promise.resolve(f.value.v).then(c,l):h(s[0][2],f)}function c(f){a("next",f)}function l(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function rw(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Jt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function nw(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Cs=="function"?Cs(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function sw(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function iw(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ow(e){return e&&e.__esModule?e:{default:e}}function aw(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function cw(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const uw=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return vs},__asyncDelegator:rw,__asyncGenerator:tw,__asyncValues:nw,__await:Jt,__awaiter:Xb,__classPrivateFieldGet:aw,__classPrivateFieldSet:cw,__createBinding:Yb,__decorate:Kb,__exportStar:Qb,__extends:qb,__generator:Zb,__importDefault:ow,__importStar:iw,__makeTemplateObject:sw,__metadata:Wb,__param:Vb,__read:xu,__rest:Gb,__spread:Jb,__spreadArrays:ew,__values:Cs},Symbol.toStringTag,{value:"Module"})),_u=De(uw);var Ut={},Ma;function lw(){if(Ma)return Ut;Ma=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.AwsCrc32c=void 0;var e=_u,t=Xe(),r=Eu(),n=function(){function i(){this.crc32c=new r.Crc32c}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32c.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32c.digest())]})})},i.prototype.reset=function(){this.crc32c=new r.Crc32c},i}();return Ut.AwsCrc32c=n,Ut}var Na;function Eu(){return Na||(Na=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32c=e.Crc32c=e.crc32c=void 0;var t=_u,r=Xe();function n(u){return new i().update(u).digest()}e.crc32c=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var l,h;try{for(var f=t.__values(c),g=f.next();!g.done;g=f.next()){var y=g.value;this.checksum=this.checksum>>>8^o[(this.checksum^y)&255]}}catch(_){l={error:_}}finally{try{g&&!g.done&&(h=f.return)&&h.call(f)}finally{if(l)throw l.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32c=i;var s=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],o=(0,r.uint32ArrayFrom)(s),a=lw();Object.defineProperty(e,"AwsCrc32c",{enumerable:!0,get:function(){return a.AwsCrc32c}})}(Hn)),Hn}var fw=Eu();const Au=(e,t)=>({[te.MD5]:t.md5,[te.CRC32]:Ns.AwsCrc32,[te.CRC32C]:fw.AwsCrc32c,[te.SHA1]:t.sha1,[te.SHA256]:t.sha256})[e],vu=(e,t)=>{const r=new e;return r.update(ft(t||"")),r.digest()},dw={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},hw=(e,t)=>(r,n)=>async i=>{if(!ne.isInstance(i.request))return r(i);const{request:s}=i,{body:o,headers:a}=s,{base64Encoder:u,streamHasher:c}=e,{input:l,requestChecksumRequired:h,requestAlgorithmMember:f}=t,g=Hb(l,{requestChecksumRequired:h,requestAlgorithmMember:f},!!n.isS3ExpressBucket);let y=o,_=a;if(g){const P=Js(g),N=Au(g,e);if(ei(o)){const{getAwsChunkedEncodingStream:U,bodyLengthChecker:se}=e;y=U(o,{base64Encoder:u,bodyLengthChecker:se,checksumLocationName:P,checksumAlgorithmFn:N,streamHasher:c}),_={...a,"content-encoding":a["content-encoding"]?`${a["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":a["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":P},delete _["content-length"]}else if(!zb(P,a)){const U=await vu(N,o);_={...a,[P]:u(U)}}}return await r({...i,request:{...s,headers:_,body:y}})},Cu=(e=[])=>{const t=[];for(const r of jb)!e.includes(r)||!Es.includes(r)||t.push(r);return t},pw=e=>{const t=e.lastIndexOf("-");if(t!==-1){const r=e.slice(t+1);if(!r.startsWith("0")){const n=parseInt(r,10);if(!isNaN(n)&&n>=1&&n<=1e4)return!0}}return!1};function Da(e){return new Blob([e]).stream()}const gw=async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{const i=ei(e)?t(r,e):vu(r,e);return n(await i)},yw=async(e,{config:t,responseAlgorithms:r})=>{const n=Cu(r),{body:i,headers:s}=e;for(const o of n){const a=Js(o),u=s[a];if(u){const c=Au(o,t),{streamHasher:l,base64Encoder:h}=t,f=await gw(i,{streamHasher:l,checksumAlgorithmFn:c,base64Encoder:h});if(f===u)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${u}" in response header "${a}".`)}}},mw={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},bw=(e,t)=>(r,n)=>async i=>{if(!ne.isInstance(i.request))return r(i);const s=i.input,o=await r(i),a=o.response;let u;const{requestValidationModeMember:c,responseAlgorithms:l}=t;if(c&&s[c]==="ENABLED"){const{clientName:h,commandName:f}=n;if(h==="S3Client"&&f==="GetObjectCommand"&&Cu(l).every(_=>{const R=Js(_),P=a.headers[R];return!P||pw(P)}))return o;const y=ei(a.body);y&&(u=await e.streamCollector(a.body),a.body=Da(u)),await yw(o.response,{config:e,responseAlgorithms:l}),y&&u&&(a.body=Da(u))}return o},Ru=(e,t)=>({applyToStack:r=>{r.add(hw(e,t),dw),r.addRelativeTo(bw(e,t),mw)}});class ti extends nr{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(ir(r,this.serialize,this.deserialize)),this.middlewareStack.use(or(r,ti.getEndpointParameterInstructions())),this.middlewareStack.use(Su(r)),this.middlewareStack.use(Ru(r,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}));const i=t.concat(this.middlewareStack),{logger:s}=r,u={logger:s,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:Rp,outputFilterSensitiveLog:Cp,[it]:{service:"AmazonS3",operation:"GetObject"}},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),u)}serialize(t,r){return Vg(t,r)}deserialize(t,r){return ey(t,r)}}class ri extends nr{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},Prefix:{type:"contextParams",name:"Prefix"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(ir(r,this.serialize,this.deserialize)),this.middlewareStack.use(or(r,ri.getEndpointParameterInstructions()));const i=t.concat(this.middlewareStack),{logger:s}=r,u={logger:s,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[it]:{service:"AmazonS3",operation:"ListObjectsV2"}},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),u)}serialize(t,r){return Wg(t,r)}deserialize(t,r){return ry(t,r)}}class ni extends nr{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use(ir(r,this.serialize,this.deserialize)),this.middlewareStack.use(or(r,ni.getEndpointParameterInstructions())),this.middlewareStack.use(rf()),this.middlewareStack.use(Su(r)),this.middlewareStack.use(Ru(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));const i=t.concat(this.middlewareStack),{logger:s}=r,u={logger:s,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:qg,outputFilterSensitiveLog:zg,[it]:{service:"AmazonS3",operation:"PutObject"}},{requestHandler:c}=r;return i.resolve(l=>c.handle(l.request,n||{}),u)}serialize(t,r){return Xg(t,r)}deserialize(t,r){return sy(t,r)}}class Pu{s3;bucket;constructor(t,r,n,i){this.s3=new Db({region:t,credentials:{accessKeyId:n,secretAccessKey:i}}),this.bucket=r}static create(){return new this(REGION,BUCKET,ACCESS_KEY,SECRET_KEY)}async add(t,r){return console.log("body",r),await this.s3.send(new ni({Bucket:this.bucket,Key:t,Body:r}))}async get(t){const r=await this.s3.send(new ti({Bucket:this.bucket,Key:t})),n=await new Response(r.Body).blob(),i=document.createElement("a");i.download=t,i.href=URL.createObjectURL(n),i.click(),URL.revokeObjectURL(i.href)}async list(){const t=await this.s3.send(new ri({Bucket:this.bucket,MaxKeys:1e3}));return t.Contents?(console.log(t.Contents),t.Contents.map(r=>({name:r.Key??"",modifiedAt:this.formatDate(r.LastModified)??"",byte:this.formatByte(r.Size??0)}))):[]}formatDate(t){if(t){const r=c=>String(c).padStart(2,"0"),n=t.getFullYear(),i=r(t.getMonth()+1),s=r(t.getDate()),o=r(t.getHours()),a=r(t.getMinutes()),u=r(t.getSeconds());return`${n}/${i}/${s} ${o}:${a}:${u}`}}async delete(t){return await this.s3.send(new Qs({Bucket:this.bucket,Key:t}))}formatByte(t,r=2){const i=Math.pow(1024,2),s=Math.pow(1024,3),o=Math.pow(1024,4);var a=null,u="byte";t>=o?(a=o,u="TB"):t>=s?(a=s,u="GB"):t>=i?(a=i,u="MB"):t>=1024?(a=1024,u="KB"):(a=null,u="byte");const c=Math.pow(10,r);return`${a!==null?Math.floor(t/a*c)/c:t} ${u}`}}const ww=qa("<div><div><button></button><input type=file></div><table><tbody>"),Sw=qa("<tr><td class=px-2></td><td class=px-2><a href=#></a></td><td class=px-2></td><td class=px-2><button>");function xw(){const[e,t]=ii([]),[r,n]=ii(),i=Pu.create();ku(()=>{i.list().then(t)});async function s(u){await i.delete(u),t(await i.list())}function o(u){u.currentTarget.files?.length&&n(u.currentTarget.files[0])}async function a(){r()&&(console.log("upload start"),console.log(await i.add(r().name,r())),console.log("upload finish"),t(await i.list()))}return(()=>{const u=ww(),c=u.firstChild,l=c.firstChild,h=l.nextSibling,f=c.nextSibling,g=f.firstChild;return l.$$click=a,h.addEventListener("change",o),Lt(g,()=>e().map(y=>(()=>{const _=Sw(),R=_.firstChild,P=R.nextSibling,N=P.firstChild,U=P.nextSibling,se=U.nextSibling,Qe=se.firstChild;return Lt(R,()=>String(y.modifiedAt)),N.$$click=()=>i.get(y.name),Lt(N,()=>y.name),Lt(U,()=>y.byte),Qe.$$click=()=>s(y.name),_})())),u})()}ju(["click"]);window.onload=()=>{const e=document.getElementById("root");Lu(()=>Fu(xw,{}),e),window.s3=Pu.create()};
</script>
    <script>
      REGION="ap-northeast-1";
      BUCKET="";
      ACCESS_KEY="";
      SECRET_KEY="";
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
